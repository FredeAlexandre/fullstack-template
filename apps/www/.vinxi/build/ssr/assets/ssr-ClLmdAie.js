import{H3Event as ge,getRequestURL as Kt,getResponseHeaders as Wt,getRequestWebStream as Gt,getRequestHeaders as Jt,getResponseStatus as Yt,eventHandler as Xe}from"h3";import{AsyncLocalStorage as Qt}from"node:async_hooks";import{isPlainArray as Xt,isPlainObject as Ae,defer as Zt,useRouter as z,pick as er,ScriptOnce as be,TSR_DEFERRED_PROMISE as Pe,createControlledPromise as tr,RouterProvider as rr,createMemoryHistory as nr,useMatch as or,rootRouteId as sr,ErrorComponent as ar,Link as ye,defaultTransformer as M,useRouterState as Q,encode as ir,isRedirect as ve,isNotFound as we,createRootRouteWithContext as cr,Outlet as ur,ScrollRestoration as lr,createFileRoute as T,lazyRouteComponent as A,redirect as Ze,lazyFn as dr,createRouter as pr}from"@tanstack/react-router";import{jsxs as I,Fragment as H,jsx as h}from"react/jsx-runtime";import*as q from"react";import{createContext as hr,createElement as et}from"react";import{Transform as fr,PassThrough as mr}from"node:stream";import se from"react-dom/server";import{QueryClient as _r}from"@tanstack/react-query";import{routerWithQueryClient as gr}from"@tanstack/react-router-with-query";import{TanStackRouterDevtools as br}from"@tanstack/router-devtools";import{Toaster as yr}from"sonner";import{useLocalStorage as vr}from"usehooks-ts";import wr from"fs";import xr from"path";import Rr from"os";import Er from"crypto";import{drizzle as Sr}from"drizzle-orm/node-postgres";import{betterAuth as Tr}from"better-auth";import{drizzleAdapter as Ar}from"better-auth/adapters/drizzle";import{admin as $r}from"better-auth/plugins";import{PgUUID as Nr,PgChar as Cr,PgVarchar as Or,pgTable as Z,integer as Dr,text as v,timestamp as C,boolean as ke}from"drizzle-orm/pg-core";import{getTableColumns as Ir,is as B}from"drizzle-orm";import{MySqlVarChar as Pr,MySqlVarBinary as kr,MySqlChar as jr}from"drizzle-orm/mysql-core";import{SQLiteText as Fr}from"drizzle-orm/sqlite-core";import{z as R}from"zod";const Vr=()=>({routes:{__root__:{filePath:"__root.tsx",children:["/_authed","/_public"],preloads:["/_build/assets/client-MK3vRZV_.js","/_build/assets/client-B6G1yI40.js"]},"/_authed":{filePath:"_authed.tsx",children:["/_authed/_app"]},"/_public":{filePath:"_public.tsx",children:["/_public/_auth","/_public/","/_public/showcase/deployer","/_public/showcase/dnd","/_public/showcase/jsonlidity"]},"/_authed/_app":{filePath:"_authed/_app.tsx",parent:"/_authed",children:["/_authed/_app/_dashboard"]},"/_public/_auth":{filePath:"_public/_auth.tsx",parent:"/_public",children:["/_public/_auth/forgot-password","/_public/_auth/reset-password","/_public/_auth/signin","/_public/_auth/signup"]},"/_public/":{filePath:"_public/index.tsx",parent:"/_public"},"/_authed/_app/_dashboard":{filePath:"_authed/_app/_dashboard.tsx",parent:"/_authed/_app",children:["/_authed/_app/_dashboard/dashboard","/_authed/_app/_dashboard/logs","/_authed/_app/_dashboard/observability","/_authed/_app/_dashboard/settings","/_authed/_app/_dashboard/support","/_authed/_app/_dashboard/usage"]},"/_public/_auth/forgot-password":{filePath:"_public/_auth/forgot-password.tsx",parent:"/_public/_auth"},"/_public/_auth/reset-password":{filePath:"_public/_auth/reset-password.tsx",parent:"/_public/_auth"},"/_public/_auth/signin":{filePath:"_public/_auth/signin.tsx",parent:"/_public/_auth"},"/_public/_auth/signup":{filePath:"_public/_auth/signup.tsx",parent:"/_public/_auth"},"/_public/showcase/deployer":{filePath:"_public/showcase/deployer.tsx",parent:"/_public"},"/_public/showcase/dnd":{filePath:"_public/showcase/dnd.tsx",parent:"/_public"},"/_public/showcase/jsonlidity":{filePath:"_public/showcase/jsonlidity.tsx",parent:"/_public"},"/_authed/_app/_dashboard/dashboard":{filePath:"_authed/_app/_dashboard/dashboard.tsx",parent:"/_authed/_app/_dashboard"},"/_authed/_app/_dashboard/logs":{filePath:"_authed/_app/_dashboard/logs.tsx",parent:"/_authed/_app/_dashboard"},"/_authed/_app/_dashboard/observability":{filePath:"_authed/_app/_dashboard/observability.tsx",parent:"/_authed/_app/_dashboard"},"/_authed/_app/_dashboard/settings":{filePath:"_authed/_app/_dashboard/settings.tsx",parent:"/_authed/_app/_dashboard"},"/_authed/_app/_dashboard/support":{filePath:"_authed/_app/_dashboard/support.tsx",parent:"/_authed/_app/_dashboard"},"/_authed/_app/_dashboard/usage":{filePath:"_authed/_app/_dashboard/usage.tsx",parent:"/_authed/_app/_dashboard"}}});function tt(e){return globalThis.MANIFEST[e]}function qr(){const e=Vr(),t=e.routes.__root__=e.routes.__root__||{};t.assets=t.assets||[];const r=tt("client");return t.assets.push({tag:"script",attrs:{src:r.inputs[r.handler]?.output.path,type:"module",async:!0,suppressHydrationWarning:!0}}),e}function Lr(){const e=qr();return{...e,routes:Object.fromEntries(Object.entries(e.routes).map(([t,r])=>{const{preloads:n,assets:s}=r;return[t,{preloads:n,assets:s}]}))}}class W{constructor(){this.cache=new Map}static create(){return W.instance||(W.instance=new W),W.instance}createContext(t,r){const n=hr(r);return this.cache.set(t,n),n}get(t,r){return this.cache.get(t)||this.createContext(t,r)}}const rt=W.create();function Mr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fe,je;function Hr(){if(je)return fe;je=1;const e={},t=e.hasOwnProperty,r=(i,u)=>{for(const b in i)t.call(i,b)&&u(b,i[b])},n=(i,u)=>(u&&r(u,(b,f)=>{i[b]=f}),i),s=(i,u)=>{const b=i.length;let f=-1;for(;++f<b;)u(i[f])},a=i=>"\\u"+("0000"+i).slice(-4),o=(i,u)=>{let b=i.toString(16);return u?b:b.toUpperCase()},c=e.toString,d=Array.isArray,p=i=>typeof Buffer=="function"&&Buffer.isBuffer(i),m=i=>c.call(i)=="[object Object]",y=i=>typeof i=="string"||c.call(i)=="[object String]",w=i=>typeof i=="number"||c.call(i)=="[object Number]",O=i=>typeof i=="bigint",P=i=>typeof i=="function",k=i=>c.call(i)=="[object Map]",L=i=>c.call(i)=="[object Set]",ce={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},ue=/[\\\b\f\n\r\t]/,le=/[0-9]/,de=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,E=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,l=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,_=(i,u)=>{const b=()=>{pe=j,++u.indentLevel,j=u.indent.repeat(u.indentLevel)},f={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},g=u&&u.json;g&&(f.quotes="double",f.wrap=!0),u=n(f,u),u.quotes!="single"&&u.quotes!="double"&&u.quotes!="backtick"&&(u.quotes="single");const x=u.quotes=="double"?'"':u.quotes=="backtick"?"`":"'",S=u.compact,D=u.lowercaseHex;let j=u.indent.repeat(u.indentLevel),pe="";const Ft=u.__inline1__,re=u.__inline2__,K=S?"":`
`;let N,ne=!0;const Vt=u.numbers=="binary",qt=u.numbers=="octal",Lt=u.numbers=="decimal",Mt=u.numbers=="hexadecimal";if(g&&i&&P(i.toJSON)&&(i=i.toJSON()),!y(i)){if(k(i))return i.size==0?"new Map()":(S||(u.__inline1__=!0,u.__inline2__=!1),"new Map("+_(Array.from(i),u)+")");if(L(i))return i.size==0?"new Set()":"new Set("+_(Array.from(i),u)+")";if(p(i))return i.length==0?"Buffer.from([])":"Buffer.from("+_(Array.from(i),u)+")";if(d(i))return N=[],u.wrap=!0,Ft&&(u.__inline1__=!1,u.__inline2__=!0),re||b(),s(i,$=>{ne=!1,re&&(u.__inline2__=!1),N.push((S||re?"":j)+_($,u))}),ne?"[]":re?"["+N.join(", ")+"]":"["+K+N.join(","+K)+K+(S?"":pe)+"]";if(w(i)||O(i)){if(g)return JSON.stringify(Number(i));let $;if(Lt)$=String(i);else if(Mt){let F=i.toString(16);D||(F=F.toUpperCase()),$="0x"+F}else Vt?$="0b"+i.toString(2):qt&&($="0o"+i.toString(8));return O(i)?$+"n":$}else return O(i)?g?JSON.stringify(Number(i)):i+"n":m(i)?(N=[],u.wrap=!0,b(),r(i,($,F)=>{ne=!1,N.push((S?"":j)+_($,u)+":"+(S?"":" ")+_(F,u))}),ne?"{}":"{"+K+N.join(","+K)+K+(S?"":pe)+"}"):g?JSON.stringify(i)||"null":String(i)}const Ht=u.escapeEverything?E:l;return N=i.replace(Ht,($,F,Oe,oe,Bt,zt)=>{if(F){if(u.minimal)return F;const De=F.charCodeAt(0),Ie=F.charCodeAt(1);if(u.es6){const Ut=(De-55296)*1024+Ie-56320+65536;return"\\u{"+o(Ut,D)+"}"}return a(o(De,D))+a(o(Ie,D))}if(Oe)return a(o(Oe.charCodeAt(0),D));if($=="\0"&&!g&&!le.test(zt.charAt(Bt+1)))return"\\0";if(oe)return oe==x||u.escapeEverything?"\\"+oe:oe;if(ue.test($))return ce[$];if(u.minimal&&!de.test($))return $;const he=o($.charCodeAt(0),D);return g||he.length>2?a(he):"\\x"+("00"+he).slice(-2)}),x=="`"&&(N=N.replace(/\$\{/g,"\\${")),u.isScriptContext&&(N=N.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,g?"\\u003C!--":"\\x3C!--")),u.wrap&&(N=x+N+x),N};return _.version="3.0.2",fe=_,fe}var Br=Hr();const ee=Mr(Br);var zr="Invariant failed";function X(e,t){if(!e)throw new Error(zr)}function Ur(e,t,r){if(!r.router.isServer)return t;r.match.extracted=r.match.extracted||[];const n=r.match.extracted;return xe(t,(a,o)=>{const c=a instanceof ReadableStream?"stream":a instanceof Promise?"promise":void 0;if(c==="stream"){const[d,p]=a.tee(),m={dataType:e,type:c,path:o,id:n.length,matchIndex:r.match.index,streamState:Yr({stream:p})};return n.push(m),d}else if(c==="promise"){Zt(a);const d={dataType:e,type:c,path:o,id:n.length,matchIndex:r.match.index,promiseState:a};n.push(d)}return a})}function Kr(e){const t=z(),r=t.state.matches[e.matchIndex];if(!t.isServer)return null;const n=r.extracted,[s,a]=["__beforeLoadContext","loaderData"].map(o=>n?n.reduce((c,d)=>d.dataType!==o?Re(c,["temp",...d.path],void 0):c,{temp:r[o]}).temp:r[o]);if(s!==void 0||a!==void 0||n?.length){const o=`__TSR__.initMatch(${ee({index:e.matchIndex,__beforeLoadContext:t.options.transformer.stringify(s),loaderData:t.options.transformer.stringify(a),extracted:n?Object.fromEntries(n.map(c=>[c.id,er(c,["type","path"])])):{}},{isScriptContext:!0,wrap:!0,json:!0})})`;return I(H,{children:[h(be,{children:o}),n?n.map(c=>c.type==="stream"?h(Jr,{entry:c},c.id):h(Wr,{entry:c},c.id)):null]})}return null}function xe(e,t,r=[]){if(Xt(e))return e.map((s,a)=>xe(s,t,[...r,`${a}`]));if(Ae(e)){const s={};for(const a in e)s[a]=xe(e[a],t,[...r,a]);return s}const n=t(e,r);return n!==e?n:e}function Wr({entry:e}){return h("div",{className:"tsr-once",children:h(q.Suspense,{fallback:null,children:h(Gr,{entry:e})})})}function Gr({entry:e}){const t=z();if(e.promiseState[Pe].status==="pending")throw e.promiseState;const r=`__TSR__.resolvePromise(${ee({...e,value:e.promiseState[Pe]},{isScriptContext:!0,wrap:!0,json:!0})})`;return t.injectScript(r),h(H,{})}function Jr({entry:e}){X(e.streamState);const t=z();return h(nt,{streamState:e.streamState,children:r=>{const n=r?`__TSR__.matches[${e.matchIndex}].extracted[${e.id}].value.controller.enqueue(new TextEncoder().encode(${ee(r.toString(),{isScriptContext:!0,wrap:!0,json:!0})}))`:`__TSR__.matches[${e.matchIndex}].extracted[${e.id}].value.controller.close()`;return t.injectScript(n),h(H,{})}})}function Yr({stream:e}){const t={promises:[]},r=e.getReader(),n=s=>(t.promises[s]=tr(),r.read().then(({done:a,value:o})=>{if(a){t.promises[s].resolve(null),r.releaseLock();return}return t.promises[s].resolve(o),n(s+1)}));return n(0).catch(s=>{console.error("stream read error",s)}),t}function nt({streamState:e,children:t,__index:r=0}){const n=e.promises[r];if(!n)return null;if(n.status==="pending")throw n;const s=n.value;return I(H,{children:[t(s),h("div",{className:"tsr-once",children:h(q.Suspense,{fallback:null,children:h(nt,{streamState:e,__index:r+1,children:t})})})]})}function Re(e,t,r){if(t.length===0)return r;const[n,...s]=t;return Array.isArray(e)?e.map((a,o)=>o===Number(n)?Re(a,s,r):a):Ae(e)?{...e,[n]:Re(e[n],s,r)}:e}function Fe(e){e.router.AfterEachMatch=Kr,e.router.serializer=n=>ee(n,{isScriptContext:!0,wrap:!0,json:!0});const t=rt.get("TanStackRouterHydrationContext",{}),r=q.useMemo(()=>{var n,s;return{router:e.router.dehydrate(),payload:(s=(n=e.router.options).dehydrate)==null?void 0:s.call(n)}},[e.router]);return h(t.Provider,{value:r,children:h(rr,{router:e.router})})}function Qr(e={}){let t,r=!1;const n=o=>{if(t&&t!==o)throw new Error("Context conflict")};let s;if(e.asyncContext){const o=e.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?s=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const a=()=>{if(s&&t===void 0){const o=s.getStore();if(o!==void 0)return o}return t};return{use:()=>{const o=a();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>a(),set:(o,c)=>{c||n(o),t=o,r=!0},unset:()=>{t=void 0,r=!1},call:(o,c)=>{n(o),t=o;try{return s?s.run(o,c):c()}finally{r||(t=void 0)}},async callAsync(o,c){t=o;const d=()=>{t=o},p=()=>t===o?d:void 0;Le.add(p);try{const m=s?s.run(o,c):c();return r||(t=void 0),await m}finally{Le.delete(p)}}}}function Xr(e={}){const t={};return{get(r,n={}){return t[r]||(t[r]=Qr({...e,...n})),t[r]}}}const ae=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},Ve="__unctx__",Zr=ae[Ve]||(ae[Ve]=Xr()),en=(e,t={})=>Zr.get(e,t),qe="__unctx_async_handlers__",Le=ae[qe]||(ae[qe]=new Set);function tn(e){let t;const r=st(e),n={duplex:"half",method:e.method,headers:e.headers};return e.node.req.body instanceof ArrayBuffer?new Request(r,{...n,body:e.node.req.body}):new Request(r,{...n,get body(){return t||(t=cn(e),t)}})}function $e(e){return e.web??={request:tn(e),url:st(e)},e.web.request}function rn(){return Ne()}const ot=Symbol("$HTTPEvent");function nn(e){return typeof e=="object"&&(e instanceof ge||e?.[ot]instanceof ge||e?.__is_event__===!0)}function G(e){return function(...t){let r=t[0];if(nn(r))t[0]=r instanceof ge||r.__is_event__?r:r[ot];else{if(!globalThis.app.config.server.experimental?.asyncContext)throw new Error("AsyncLocalStorage was not enabled. Use the `server.experimental.asyncContext: true` option in your app configuration to enable it. Or, pass the instance of HTTPEvent that you have as the first argument to the function.");if(r=rn(),!r)throw new Error("No HTTPEvent found in AsyncLocalStorage. Make sure you are using the function within the server runtime.");t.unshift(r)}return e(...t)}}const on=G(Jt),st=G(Kt),sn=G(Yt),an=G(Wt),cn=G(Gt),un=G($e);function ln(){return en("nitro-app",{asyncContext:!!globalThis.app.config.server.experimental?.asyncContext,AsyncLocalStorage:Qt})}function Ne(){return ln().use().event}function dn(e){return e instanceof Headers?new Headers(e):Array.isArray(e)?new Headers(e):typeof e=="object"?new Headers(e):new Headers}function Ee(...e){return e.reduce((t,r)=>{const n=dn(r);for(const[s,a]of n.entries())t.set(s,a);return t},new Headers)}function pn({createRouter:e,getRouterManifest:t}){return r=>Xe(async n=>{const s=$e(n),a=new URL(s.url),o=a.href.replace(a.origin,""),c=nr({initialEntries:[o]}),d=e();d.serializeLoaderData=Ur,t&&(d.manifest=t()),d.update({history:c}),await d.load();const p=hn({event:n,router:d});return await r({request:s,router:d,responseHeaders:p})})}function hn(e){e.event.__tsrHeadersSent=!0;let t=Ee(an(e.event),{"Content-Type":"text/html; charset=UTF-8"},...e.router.state.matches.map(n=>n.headers));const{redirect:r}=e.router.state;return r&&(t=Ee(t,r.headers,{Location:r.href})),t}var fn=" daum[ /]| deusu/| yadirectfetcher|(?:^|[^g])news(?!sapphire)|(?<! (?:channel/|google/))google(?!(app|/google| pixel))|(?<! cu)bots?(?:\\b|_)|(?<!(?:lib))http|(?<![hg]m)score|@[a-z][\\w-]+\\.|\\(\\)|\\.com\\b|\\btime/|^<|^[\\w \\.\\-\\(?:\\):]+(?:/v?\\d+(?:\\.\\d+)?(?:\\.\\d{1,10})*?)?(?:,|$)|^[^ ]{50,}$|^\\d+\\b|^\\w*search\\b|^\\w+/[\\w\\(\\)]*$|^active|^ad muncher|^amaya|^avsdevicesdk/|^biglotron|^bot|^bw/|^clamav[ /]|^client/|^cobweb/|^custom|^ddg[_-]android|^discourse|^dispatch/\\d|^downcast/|^duckduckgo|^facebook|^getright/|^gozilla/|^hobbit|^hotzonu|^hwcdn/|^jeode/|^jetty/|^jigsaw|^microsoft bits|^movabletype|^mozilla/5\\.0\\s[a-z\\.-]+$|^mozilla/\\d\\.\\d \\(compatible;?\\)$|^mozilla/\\d\\.\\d \\w*$|^navermailapp|^netsurf|^offline|^owler|^php|^postman|^python|^rank|^read|^reed|^rest|^rss|^snapchat|^space bison|^svn|^swcd |^taringa|^thumbor/|^track|^valid|^w3c|^webbandit/|^webcopier|^wget|^whatsapp|^wordpress|^xenu link sleuth|^yahoo|^yandex|^zdm/\\d|^zoom marketplace/|^{{.*}}$|adscanner/|analyzer|archive|ask jeeves/teoma|bit\\.ly/|bluecoat drtr|browsex|burpcollaborator|capture|catch|check\\b|checker|chrome-lighthouse|chromeframe|classifier|cloudflare|convertify|cookiehubscan|crawl|cypress/|dareboost|datanyze|dejaclick|detect|dmbrowser|download|evc-batch/|exaleadcloudview|feed|firephp|functionize|gomezagent|headless|httrack|hubspot marketing grader|hydra|ibisbrowser|images|infrawatch|insight|inspect|iplabel|ips-agent|java(?!;)|jsjcw_scanner|library|linkcheck|mail\\.ru/|manager|measure|neustar wpm|node|nutch|offbyone|optimize|pageburst|pagespeed|parser|perl|phantomjs|pingdom|powermarks|preview|proxy|ptst[ /]\\d|reputation|resolver|retriever|rexx;|rigor|rss\\b|scanner\\.|scrape|server|sogou|sparkler/|speedcurve|spider|splash|statuscake|supercleaner|synapse|synthetic|tools|torrent|trace|transcoder|url|virtuoso|wappalyzer|webglance|webkit2png|whatcms/|zgrab",mn=/bot|crawl|http|lighthouse|scan|search|spider/i,Y;function _n(){if(Y instanceof RegExp)return Y;try{Y=new RegExp(fn,"i")}catch{Y=mn}return Y}function Me(e){return!!e&&_n().test(e)}function gn(e){const t=at(()=>e.injectedHtml.map(r=>r()).join(""));return new fr({transform(r,n,s){t.transform(r,this.push.bind(this)).then(()=>s()).catch(a=>s(a))},flush(r){t.flush(this.push.bind(this)).then(()=>r()).catch(n=>r(n))}})}function bn(e){const t=at(()=>e.injectedHtml.map(n=>n()).join("")),r=new TextEncoder;return new TransformStream({transform(n,s){return t.transform(n,a=>(s.enqueue(r.encode(a)),!0))},flush(n){return t.flush(s=>(n.enqueue(s),!0))}})}const yn=/(<body)/,vn=/(<\/body>)/,wn=/(<\/html>)/,xn=/(<\/[a-zA-Z][\w:.-]*?>)/g,Rn=new TextDecoder;function at(e){let t=!1,r="",n="";return{async transform(s,a){const o=r+Rn.decode(s),c=o.match(yn),d=o.match(vn),p=o.match(wn);try{if(c&&(t=!0),!t){a(o),r="";return}const m=e();if(d&&p&&d.index<p.index){const y=d.index+d[0].length,w=p.index+p[0].length,O=o.slice(0,y)+m+o.slice(y,w)+o.slice(w);a(O),r=""}else{let y,w=0;for(;(y=xn.exec(o))!==null;)w=y.index+y[0].length;if(w>0){const O=o.slice(0,w)+m+n;a(O),r=o.slice(w)}else r=o,n+=m}}catch(m){throw console.error("Error transforming HTML:",m),m}},async flush(s){r&&s(r)}}}const En=async({request:e,router:t,responseHeaders:r})=>{if(typeof se.renderToReadableStream=="function"){const n=await se.renderToReadableStream(h(Fe,{router:t}),{signal:e.signal});Me(e.headers.get("User-Agent"))&&await n.allReady;const a=[bn(t)].reduce((o,c)=>o.pipeThrough(c),n);return new Response(a,{status:t.state.statusCode,headers:r})}if(typeof se.renderToPipeableStream=="function"){const n=new mr;try{const o=se.renderToPipeableStream(h(Fe,{router:t}),{...Me(e.headers.get("User-Agent"))?{onAllReady(){o.pipe(n)}}:{onShellReady(){o.pipe(n)}},onError:(c,d)=>{console.log("Error in renderToPipeableStream:",c,d)}})}catch(o){console.log("Error in renderToPipeableStream:",o)}const a=[gn(t)].reduce((o,c)=>o.pipe(c),n);return new Response(a,{status:t.state.statusCode,headers:r})}throw new Error("No renderToReadableStream or renderToPipeableStream found in react-dom/server. Ensure you are using a version of react-dom that supports streaming.")};function it({error:e}){const t=z(),r=or({strict:!1,select:n=>n.id===sr});return console.error(e),I("div",{className:"min-w-0 flex-1 p-4 flex flex-col items-center justify-center gap-6",children:[h(ar,{error:e}),I("div",{className:"flex gap-2 items-center flex-wrap",children:[h("button",{type:"button",onClick:()=>{t.invalidate()},className:"px-2 py-1 bg-gray-600 dark:bg-gray-700 rounded text-white uppercase font-extrabold",children:"Try Again"}),r?h(ye,{to:"/",className:"px-2 py-1 bg-gray-600 dark:bg-gray-700 rounded text-white uppercase font-extrabold",children:"Home"}):h(ye,{to:"/",className:"px-2 py-1 bg-gray-600 dark:bg-gray-700 rounded text-white uppercase font-extrabold",onClick:n=>{n.preventDefault(),window.history.back()},children:"Go Back"})]})]})}function ct({children:e}){return I("div",{className:"space-y-2 p-2",children:[h("div",{className:"text-gray-600 dark:text-gray-400",children:e||h("p",{children:"The page you are looking for does not exist."})}),I("p",{className:"flex items-center gap-2 flex-wrap",children:[h("button",{type:"button",onClick:()=>window.history.back(),className:"bg-emerald-500 text-white px-2 py-1 rounded uppercase font-black text-sm",children:"Go back"}),h(ye,{to:"/",className:"bg-cyan-600 text-white px-2 py-1 rounded uppercase font-black text-sm",children:"Start Over"})]})]})}function ut({tag:e,attrs:t,children:r}){switch(e){case"title":return h("title",{...t,suppressHydrationWarning:!0,children:r});case"meta":return h("meta",{...t,suppressHydrationWarning:!0});case"link":return h("link",{...t,suppressHydrationWarning:!0});case"style":return h("style",{...t,dangerouslySetInnerHTML:{__html:r}});case"script":return t&&t.src?h("script",{...t,suppressHydrationWarning:!0}):typeof r=="string"?h("script",{...t,dangerouslySetInnerHTML:{__html:r},suppressHydrationWarning:!0}):null;default:return null}}const Sn=[];function Se(e,t){const r=t||e||{};return typeof r.method>"u"&&(r.method="GET"),{options:r,middleware:n=>Se(void 0,Object.assign(r,{middleware:n})),validator:n=>Se(void 0,Object.assign(r,{validator:n})),handler:(...n)=>{const[s,a]=n;Object.assign(r,{...s,extractedFn:s,serverFn:a}),X(s.url);const o=[...r.middleware||[],Nn(r)];return Object.assign(async c=>Be(o,"client",{...s,method:r.method,data:c?.data,headers:c?.headers,context:Object.assign({},s)}).then(d=>d.result),{...s,__executeServer:c=>{const d=c instanceof FormData?Tn(c):c;return Be(o,"server",{...s,...d}).then(p=>({result:p.result,context:p.sendContext}))}})}}}function Tn(e){const t=e.get("__TSR_CONTEXT");if(e.delete("__TSR_CONTEXT"),typeof t!="string")return{context:{},data:e};try{return{context:M.parse(t),data:e}}catch{return{data:e}}}function An(e){const t=new Set,r=[],n=s=>{s.forEach(a=>{a.options.middleware&&n(a.options.middleware),t.has(a)||(t.add(a),r.push(a))})};return n(e),r}const He=(e,t,r)=>e({data:t.data,context:t.context,sendContext:t.sendContext,method:t.method,next:n=>{const s={...t.context,...n?.context},a={...t.sendContext,...n?.sendContext??{}},o=Ee(t.headers,n?.headers);return r({method:t.method,data:t.data,context:s,sendContext:a,headers:o,result:n?.result??t.result})}});function $n(e,t){if(e==null)return{};if("~standard"in e){const r=e["~standard"].validate(t);if(r instanceof Promise)throw new Error("Async validation not supported");if(r.issues)throw new Error(JSON.stringify(r.issues,void 0,2));return r.value}if("parse"in e)return e.parse(t);if(typeof e=="function")return e(t);throw new Error("Invalid validator type!")}async function Be(e,t,r){const n=An([...Sn,...e]),s=async a=>{const o=n.shift();if(!o)return a;o.options.validator&&(t!=="client"||o.options.validateClient)&&(a.data=await $n(o.options.validator,a.data));const c=t==="client"?o.options.client:o.options.server;return c?He(c,a,async d=>{if(t==="client"&&o.options.clientAfter){const p=await s(d);return He(o.options.clientAfter,p,m=>m)}return s(d)}):s(a)};return s({...r,headers:r.headers||{},sendContext:r.sendContext||{},context:r.context||{}})}function Nn(e){return{_types:void 0,options:{validator:e.validator,validateClient:e.validateClient,client:async({next:t,sendContext:r,...n})=>{var s;const a=await((s=e.extractedFn)==null?void 0:s.call(e,{...n,context:r}));return t(a)},server:async({next:t,...r})=>{var n;const s=await((n=e.serverFn)==null?void 0:n.call(e,r));return t({result:s})}}}}const Cn=()=>{const e=z(),t=Q({select:a=>a.matches.map(o=>o.meta).filter(Boolean)}),r=q.useMemo(()=>{const a=[],o={};let c;return[...t].reverse().forEach(d=>{[...d].reverse().forEach(p=>{if(p)if(p.title)c||(c={tag:"title",children:p.title});else{const m=p.name??p.property;if(m){if(o[m])return;o[m]=!0}a.push({tag:"meta",attrs:{...p}})}})}),c&&a.push(c),a.reverse(),a},[t]),n=Q({select:a=>a.matches.map(o=>o.links).filter(Boolean).flat(1).map(o=>({tag:"link",attrs:{...o}})),structuralSharing:!0}),s=Q({select:a=>{const o=[];return a.matches.map(c=>e.looseRoutesById[c.routeId]).forEach(c=>{var d,p,m;return(m=(p=(d=e.manifest)==null?void 0:d.routes[c.id])==null?void 0:p.preloads)==null?void 0:m.filter(Boolean).forEach(y=>{o.push({tag:"link",attrs:{rel:"modulepreload",href:y}})})}),o},structuralSharing:!0});return In([...r,...s,...n],a=>JSON.stringify(a))},On=()=>{const e=z(),t=Cn(),r=q.useContext(rt.get("TanStackRouterHydrationContext",{}));return I(H,{children:[t.map((n,s)=>et(ut,{...n,key:`tsr-meta-${JSON.stringify(n)}`})),I(H,{children:[h(be,{log:!1,children:'__TSR__={matches:[],streamedValues:{},queue:[],runQueue:()=>{let e=!1;__TSR__.queue=__TSR__.queue.filter((_=>!_()||(e=!0,!1))),e&&__TSR__.runQueue()},initMatch:e=>{__TSR__.queue.push((()=>(__TSR__.matches[e.index]||(__TSR__.matches[e.index]=e,Object.entries(e.extracted).forEach((([e,_])=>{if("stream"===_.type){let e;_.value=new ReadableStream({start(_){e=_}}),_.value.controller=e}else if("promise"===_.type){let e,t;_.value=new Promise(((_,u)=>{e=_,t=u})),_.resolve=e,_.reject=t}}))),!0))),__TSR__.runQueue()},resolvePromise:e=>{__TSR__.queue.push((()=>{const _=__TSR__.matches[e.matchIndex];if(_){const t=_.extracted[e.id];if(t)return t.resolve(e.value.data),!0}return!1})),__TSR__.runQueue()},cleanScripts:()=>{document.querySelectorAll(".tsr-once").forEach((e=>{e.remove()}))}};'}),h(be,{children:`__TSR__.dehydrated = ${ee(e.options.transformer.stringify(r),{isScriptContext:!0,wrap:!0,json:!0})}`})]})]})},Dn=()=>h(H,{children:On()});function In(e,t){const r=new Set;return e.filter(n=>{const s=t(n);return r.has(s)?!1:(r.add(s),!0)})}const Pn=()=>{const e=z(),t=Q({select:s=>{const a=[];return s.matches.map(o=>e.looseRoutesById[o.routeId]).forEach(o=>{var c,d,p;return(p=(d=(c=e.manifest)==null?void 0:c.routes[o.id])==null?void 0:d.assets)==null?void 0:p.filter(m=>m.tag==="script").forEach(m=>{a.push({tag:"script",attrs:m.attrs,children:m.children})})}),a},structuralSharing:!0}),{scripts:r}=Q({select:s=>({scripts:s.matches.map(a=>a.scripts).filter(Boolean).flat(1).map(({children:a,...o})=>({tag:"script",attrs:{...o,suppressHydrationWarning:!0},children:a}))})}),n=[...r,...t];return h(H,{children:n.map((s,a)=>et(ut,{...s,key:`tsr-scripts-${s.tag}-${a}`}))})},kn="/_build/assets/app-rBlYkhE6.css",jn=({title:e,description:t,keywords:r,image:n})=>[{title:e},{name:"description",content:t},{name:"keywords",content:r},{name:"twitter:title",content:e},{name:"twitter:description",content:t},{name:"twitter:creator",content:"@tannerlinsley"},{name:"twitter:site",content:"@tannerlinsley"},{name:"og:type",content:"website"},{name:"og:title",content:e},{name:"og:description",content:t},...n?[{name:"twitter:image",content:n},{name:"twitter:card",content:"summary_large_image"},{name:"og:image",content:n}]:[]],Fn={theme:"system",setTheme:()=>null},lt=q.createContext(Fn);function Vn({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme",...n}){const[s,a]=vr(r,t,{initializeWithValue:!1});q.useEffect(()=>{const c=window.document.documentElement;if(c.classList.remove("light","dark"),s==="system"){const d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";c.classList.add(d);return}c.classList.add(s)},[s]);const o={theme:s,setTheme:a};return q.createElement(lt.Provider,{...n,value:o},e)}const qn=()=>{const e=q.useContext(lt);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Ln=({...e})=>{const{theme:t="system"}=qn();return q.createElement(yr,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};async function Mn(e,t,r){var n;const s=t[0];if(Ae(s)&&s.method){const p=s,m=p.data instanceof FormData?"formData":"payload",y=new Headers({...m==="payload"?{"content-type":"application/json",accept:"application/json"}:{},...p.headers instanceof Headers?Object.fromEntries(p.headers.entries()):p.headers||{}});if(p.method==="GET"){const k=ir({payload:M.stringify({data:p.data,context:p.context})});k&&(e+=`&${k}`)}const w=new Request(e,{method:p.method,headers:y,...Hn(p)}),O=await r(w),P=await ze(O);if((n=P.headers.get("content-type"))!=null&&n.includes("application/json")){const k=await P.text(),L=k?M.parse(k):void 0;if(ve(L)||we(L))throw L;return L}return P}const a=new Request(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}),o=await ze(await r(a)),c=o.headers.get("content-type"),d=await o.text();return c&&c.includes("application/json")?d?JSON.parse(d):void 0:d}function Hn(e){return e.method==="POST"?e.data instanceof FormData?(e.data.set("__TSR_CONTEXT",M.stringify(e.context)),{body:e.data}):{body:M.stringify({data:e.data??null,context:e.context})}:{}}async function ze(e){if(!e.ok){const t=e.headers.get("content-type"),r=t&&t.includes("application/json"),n=await(async()=>r?await e.json():await e.text())(),s=`Request failed with status ${e.status}`;throw r?new Error(JSON.stringify({message:s,body:n})):new Error([s,`${JSON.stringify(n,null,2)}`].join(`

`))}return e}function Bn(e){return e.replace(/^\/|\/$/g,"")}function zn(e,t,r){return`${e}/${Bn("/_server")}/?_serverFnId=${encodeURI(t)}&_serverFnName=${encodeURI(r)}`}Xe(Un);async function Un(e){return dt($e(e))}async function dt(e,t){var r,n;const s=e.method,a=new URL(e.url,"http://localhost:3000"),o=Object.fromEntries(a.searchParams.entries()),c=o._serverFnId,d=o._serverFnName;if(!c||!d)throw new Error("Invalid request");X(typeof c=="string");const p=(n=await((r=tt("server").chunks[c])==null?void 0:r.import()))==null?void 0:n[d],m=await(async()=>{try{const y=await(async()=>{var O;if((O=e.headers.get("Content-Type"))!=null&&O.includes("multipart/form-data"))return X(s.toLowerCase()!=="get","GET requests with FormData payloads are not supported"),await e.formData();if(s.toLowerCase()==="get")return o.payload?M.parse(o.payload):void 0;const P=await e.text();return M.parse(P)})(),w=await p(y);return w instanceof Response?w:ve(w)||we(w)?Ue(w):new Response(w!==void 0?M.stringify(w):void 0,{status:sn(Ne()),headers:{"Content-Type":"application/json"}})}catch(y){return y instanceof Response?y:ve(y)||we(y)?Ue(y):(console.error("Server Fn Error!"),console.error(y),console.info(),new Response(JSON.stringify(y),{status:500,headers:{"Content-Type":"application/json"}}))}})();if(m.headers.get("Content-Type")==="application/json"){const w=await m.clone().text();w&&JSON.stringify(JSON.parse(w))}return m}function Ue(e){const{headers:t,...r}=e;return new Response(JSON.stringify(r),{status:200,headers:{"Content-Type":"application/json",...t||{}}})}const Ke="http://localhost:3000";function Kn(e,t,r){const n=zn(Ke,t,r);return Object.assign((...a)=>(X(a.length===1),Mn(n,a,async o=>{const c=Ne(),d=on(c);return Object.entries(d).forEach(([p,m])=>{o.headers.has(p)||o.headers.append(p,m)}),dt(o)})),{url:n.replace(Ke,""),filename:t,functionId:r})}var We={},V={exports:{}};const Wn="dotenv",Gn="16.4.7",Jn="Loads environment variables from .env file",Yn="lib/main.js",Qn="lib/main.d.ts",Xn={".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},Zn={"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},eo={type:"git",url:"git://github.com/motdotla/dotenv.git"},to="https://dotenvx.com",ro=["dotenv","env",".env","environment","variables","config","settings"],no="README.md",oo="BSD-2-Clause",so={"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},ao={node:">=12"},io={fs:!1},co={name:Wn,version:Gn,description:Jn,main:Yn,types:Qn,exports:Xn,scripts:Zn,repository:eo,funding:to,keywords:ro,readmeFilename:no,license:oo,devDependencies:so,engines:ao,browser:io};var Ge;function uo(){if(Ge)return V.exports;Ge=1;const e=wr,t=xr,r=Rr,n=Er,a=co.version,o=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function c(l){const _={};let i=l.toString();i=i.replace(/\r\n?/mg,`
`);let u;for(;(u=o.exec(i))!=null;){const b=u[1];let f=u[2]||"";f=f.trim();const g=f[0];f=f.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),g==='"'&&(f=f.replace(/\\n/g,`
`),f=f.replace(/\\r/g,"\r")),_[b]=f}return _}function d(l){const _=P(l),i=E.configDotenv({path:_});if(!i.parsed){const g=new Error(`MISSING_DATA: Cannot parse ${_} for an unknown reason`);throw g.code="MISSING_DATA",g}const u=w(l).split(","),b=u.length;let f;for(let g=0;g<b;g++)try{const x=u[g].trim(),S=O(i,x);f=E.decrypt(S.ciphertext,S.key);break}catch(x){if(g+1>=b)throw x}return E.parse(f)}function p(l){console.log(`[dotenv@${a}][INFO] ${l}`)}function m(l){console.log(`[dotenv@${a}][WARN] ${l}`)}function y(l){console.log(`[dotenv@${a}][DEBUG] ${l}`)}function w(l){return l&&l.DOTENV_KEY&&l.DOTENV_KEY.length>0?l.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function O(l,_){let i;try{i=new URL(_)}catch(x){if(x.code==="ERR_INVALID_URL"){const S=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw S.code="INVALID_DOTENV_KEY",S}throw x}const u=i.password;if(!u){const x=new Error("INVALID_DOTENV_KEY: Missing key part");throw x.code="INVALID_DOTENV_KEY",x}const b=i.searchParams.get("environment");if(!b){const x=new Error("INVALID_DOTENV_KEY: Missing environment part");throw x.code="INVALID_DOTENV_KEY",x}const f=`DOTENV_VAULT_${b.toUpperCase()}`,g=l.parsed[f];if(!g){const x=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${f} in your .env.vault file.`);throw x.code="NOT_FOUND_DOTENV_ENVIRONMENT",x}return{ciphertext:g,key:u}}function P(l){let _=null;if(l&&l.path&&l.path.length>0)if(Array.isArray(l.path))for(const i of l.path)e.existsSync(i)&&(_=i.endsWith(".vault")?i:`${i}.vault`);else _=l.path.endsWith(".vault")?l.path:`${l.path}.vault`;else _=t.resolve(process.cwd(),".env.vault");return e.existsSync(_)?_:null}function k(l){return l[0]==="~"?t.join(r.homedir(),l.slice(1)):l}function L(l){p("Loading env from encrypted .env.vault");const _=E._parseVault(l);let i=process.env;return l&&l.processEnv!=null&&(i=l.processEnv),E.populate(i,_,l),{parsed:_}}function ce(l){const _=t.resolve(process.cwd(),".env");let i="utf8";const u=!!(l&&l.debug);l&&l.encoding?i=l.encoding:u&&y("No encoding is specified. UTF-8 is used by default");let b=[_];if(l&&l.path)if(!Array.isArray(l.path))b=[k(l.path)];else{b=[];for(const S of l.path)b.push(k(S))}let f;const g={};for(const S of b)try{const D=E.parse(e.readFileSync(S,{encoding:i}));E.populate(g,D,l)}catch(D){u&&y(`Failed to load ${S} ${D.message}`),f=D}let x=process.env;return l&&l.processEnv!=null&&(x=l.processEnv),E.populate(x,g,l),f?{parsed:g,error:f}:{parsed:g}}function ue(l){if(w(l).length===0)return E.configDotenv(l);const _=P(l);return _?E._configVault(l):(m(`You set DOTENV_KEY but you are missing a .env.vault file at ${_}. Did you forget to build it?`),E.configDotenv(l))}function le(l,_){const i=Buffer.from(_.slice(-64),"hex");let u=Buffer.from(l,"base64");const b=u.subarray(0,12),f=u.subarray(-16);u=u.subarray(12,-16);try{const g=n.createDecipheriv("aes-256-gcm",i,b);return g.setAuthTag(f),`${g.update(u)}${g.final()}`}catch(g){const x=g instanceof RangeError,S=g.message==="Invalid key length",D=g.message==="Unsupported state or unable to authenticate data";if(x||S){const j=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw j.code="INVALID_DOTENV_KEY",j}else if(D){const j=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw j.code="DECRYPTION_FAILED",j}else throw g}}function de(l,_,i={}){const u=!!(i&&i.debug),b=!!(i&&i.override);if(typeof _!="object"){const f=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw f.code="OBJECT_REQUIRED",f}for(const f of Object.keys(_))Object.prototype.hasOwnProperty.call(l,f)?(b===!0&&(l[f]=_[f]),u&&y(b===!0?`"${f}" is already defined and WAS overwritten`:`"${f}" is already defined and was NOT overwritten`)):l[f]=_[f]}const E={configDotenv:ce,_configVault:L,_parseVault:d,config:ue,decrypt:le,parse:c,populate:de};return V.exports.configDotenv=E.configDotenv,V.exports._configVault=E._configVault,V.exports._parseVault=E._parseVault,V.exports.config=E.config,V.exports.decrypt=E.decrypt,V.exports.parse=E.parse,V.exports.populate=E.populate,V.exports=E,V.exports}var me,Je;function lo(){if(Je)return me;Je=1;const e={};return process.env.DOTENV_CONFIG_ENCODING!=null&&(e.encoding=process.env.DOTENV_CONFIG_ENCODING),process.env.DOTENV_CONFIG_PATH!=null&&(e.path=process.env.DOTENV_CONFIG_PATH),process.env.DOTENV_CONFIG_DEBUG!=null&&(e.debug=process.env.DOTENV_CONFIG_DEBUG),process.env.DOTENV_CONFIG_OVERRIDE!=null&&(e.override=process.env.DOTENV_CONFIG_OVERRIDE),process.env.DOTENV_CONFIG_DOTENV_KEY!=null&&(e.DOTENV_KEY=process.env.DOTENV_CONFIG_DOTENV_KEY),me=e,me}var _e,Ye;function po(){if(Ye)return _e;Ye=1;const e=/^dotenv_config_(encoding|path|debug|override|DOTENV_KEY)=(.+)$/;return _e=function(r){return r.reduce(function(n,s){const a=s.match(e);return a&&(n[a[1]]=a[2]),n},{})},_e}var Qe;function ho(){return Qe||(Qe=1,function(){uo().config(Object.assign({},lo(),po()(process.argv)))}()),We}ho();if(!process.env.DATABASE_URL)throw new Error("Missing DATABASE_URL is required");const fo=Sr(process.env.DATABASE_URL),mo=R.union([R.string(),R.number(),R.boolean(),R.null()]),Te=R.lazy(()=>R.union([mo,R.array(Te),R.record(Te)]));function _o(e,t){const r=Ir(e),n=Object.entries(r);let s=Object.fromEntries(n.map(([a,o])=>[a,pt(o)]));t&&(s=Object.assign(s,Object.fromEntries(Object.entries(t).map(([a,o])=>[a,typeof o=="function"?o(s):o]))));for(const[a,o]of n)o.notNull?o.hasDefault&&(s[a]=s[a].optional()):s[a]=s[a].nullable().optional();return R.object(s)}function pt(e){let t;if(function(r){return"enumValues"in r&&Array.isArray(r.enumValues)&&r.enumValues.length>0}(e)&&(t=e.enumValues.length?R.enum(e.enumValues):R.string()),!t){if(B(e,Nr))t=R.string().uuid();else if(e.dataType==="custom")t=R.any();else if(e.dataType==="json")t=Te;else if(e.dataType==="array")t=R.array(pt(e.baseColumn));else if(e.dataType==="number")t=R.number();else if(e.dataType==="bigint")t=R.bigint();else if(e.dataType==="boolean")t=R.boolean();else if(e.dataType==="date")t=R.date();else if(e.dataType==="string"){let r=R.string();(B(e,Cr)||B(e,Or)||B(e,Pr)||B(e,kr)||B(e,jr)||B(e,Fr))&&typeof e.length=="number"&&(r=r.max(e.length)),t=r}}return t||(t=R.any()),t}const ht=Z("project",{id:Dr("id").primaryKey().generatedAlwaysAsIdentity(),name:v("name").notNull(),userId:v("userId").notNull().references(()=>ie.id),description:v("description"),createdAt:C("createdAt").notNull().defaultNow(),updatedAt:C("updatedAt").notNull().defaultNow()}),go=_o(ht,{name:R.string().max(256),userId:R.string(),description:R.string().max(1024).optional()}).omit({id:!0,createdAt:!0,updatedAt:!0}),ie=Z("user",{id:v("id").primaryKey(),name:v("name").notNull(),email:v("email").notNull().unique(),emailVerified:ke("emailVerified").notNull(),image:v("image"),createdAt:C("createdAt").notNull(),updatedAt:C("updatedAt").notNull(),role:v("role"),banned:ke("banned"),banReason:v("banReason"),banExpires:C("banExpires")}),bo=Z("session",{id:v("id").primaryKey(),expiresAt:C("expiresAt").notNull(),token:v("token").notNull().unique(),createdAt:C("createdAt").notNull(),updatedAt:C("updatedAt").notNull(),ipAddress:v("ipAddress"),userAgent:v("userAgent"),userId:v("userId").notNull().references(()=>ie.id),impersonatedBy:v("impersonatedBy")}),yo=Z("account",{id:v("id").primaryKey(),accountId:v("accountId").notNull(),providerId:v("providerId").notNull(),userId:v("userId").notNull().references(()=>ie.id),accessToken:v("accessToken"),refreshToken:v("refreshToken"),idToken:v("idToken"),accessTokenExpiresAt:C("accessTokenExpiresAt"),refreshTokenExpiresAt:C("refreshTokenExpiresAt"),scope:v("scope"),password:v("password"),createdAt:C("createdAt").notNull(),updatedAt:C("updatedAt").notNull()}),vo=Z("verification",{id:v("id").primaryKey(),identifier:v("identifier").notNull(),value:v("value").notNull(),expiresAt:C("expiresAt").notNull(),createdAt:C("createdAt"),updatedAt:C("updatedAt")}),wo=Object.freeze(Object.defineProperty({__proto__:null,CreateProjectSchema:go,account:yo,project:ht,session:bo,user:ie,verification:vo},Symbol.toStringTag,{value:"Module"})),xo=Tr({database:Ar(fo,{provider:"pg",schema:wo}),plugins:[$r()],emailAndPassword:{enabled:!0,sendResetPassword:async({user:e,url:t,token:r},n)=>{console.log(`[FAKE] Reseting password to ${e.email} with token ${r} go to this url ${t}`)}},emailVerification:{sendOnSignUp:!0,requireEmailVerification:!0,sendVerificationEmail:async({user:e,url:t,token:r},n)=>{console.log(`[FAKE] Sending email to ${e.email} with token ${r} go to this url ${t}`)}}}),ft=Se({method:"GET"}).handler(Kn(Ro,"c_p9grhw","$$function0"),async()=>{const e=un();return await xo.api.getSession({headers:e.headers})});function Ro(e){return ft.__executeServer(e)}const Ce=cr()({head:()=>({meta:[{charSet:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},...jn({title:"Smartflow - The modern way to write and deploy smart contracts",description:"Smartflow is a low code drag and drop platform to write and deploy smart contracts"})],links:[{rel:"stylesheet",href:kn},{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"},{rel:"icon",type:"image/png",sizes:"96x96",href:"/favicon-96x96.png"},{rel:"manifest",href:"/site.webmanifest",color:"#fffff"},{rel:"icon",href:"/favicon.ico"}]}),beforeLoad:async()=>({user:await ft()}),errorComponent:e=>h(mt,{children:h(it,{...e})}),notFoundComponent:()=>h(ct,{}),component:Eo});function Eo(){return h(mt,{children:I(Vn,{children:[h(ur,{}),h(Ln,{})]})})}function mt({children:e}){return I("html",{lang:"en",children:[h("head",{children:h(Dn,{})}),I("body",{children:[e,h(lr,{}),h(br,{position:"bottom-right"}),h(Pn,{})]})]})}const So=()=>import("./_public-Dv5imyYc.js"),_t=T("/_public")({component:A(So,"component",()=>_t.ssr)}),To=()=>import("./_authed-CWkpUWvM.js"),gt=T("/_authed")({component:A(To,"component",()=>gt.ssr),beforeLoad:({context:e,location:t})=>{if(!e.user)throw Ze({to:"/signin",search:{redirect:encodeURIComponent(t.href)}})}}),Ao=()=>import("./index-CFsJtIZQ.js"),bt=T("/_public/")({component:A(Ao,"component",()=>bt.ssr)}),$o=()=>import("./_auth-CWkpUWvM.js"),yt=T("/_public/_auth")({component:A($o,"component",()=>yt.ssr),beforeLoad:({context:e})=>{if(e.user)throw Ze({to:"/"})}}),No=()=>import("./_app-Bx-BCXXC.js"),vt=T("/_authed/_app")({component:A(No,"component",()=>vt.ssr)}),Co=()=>import("./jsonlidity-CY9FHlNX.js"),wt=T("/_public/showcase/jsonlidity")({component:A(Co,"component",()=>wt.ssr)}),Oo=()=>import("./dnd-D__D93hM.js"),xt=T("/_public/showcase/dnd")({component:A(Oo,"component",()=>xt.ssr)}),Do=()=>import("./deployer-NLtmNJjZ.js"),Rt=T("/_public/showcase/deployer")({component:A(Do,"component",()=>Rt.ssr)}),Io=()=>import("./signup-BDaQ3DAc.js"),Et=T("/_public/_auth/signup")({component:A(Io,"component",()=>Et.ssr)}),Po=()=>import("./signin-BJy-qwOt.js"),St=T("/_public/_auth/signin")({component:A(Po,"component",()=>St.ssr)}),ko=()=>import("./reset-password-Ceoj7WWC.js"),Tt=T("/_public/_auth/reset-password")({component:A(ko,"component",()=>Tt.ssr)}),jo=()=>import("./forgot-password-BT0TNKnY.js"),At=T("/_public/_auth/forgot-password")({component:A(jo,"component",()=>At.ssr)}),Fo=()=>import("./_dashboard-Bw6Pgr49.js"),$t=T("/_authed/_app/_dashboard")({component:A(Fo,"component",()=>$t.ssr)}),Vo=()=>import("./usage-CaKBzars.js"),Nt=T("/_authed/_app/_dashboard/usage")({component:A(Vo,"component",()=>Nt.ssr)}),qo=()=>import("./support-clG7eZGL.js"),Ct=T("/_authed/_app/_dashboard/support")({component:A(qo,"component",()=>Ct.ssr)}),Lo=()=>import("./settings-B-I3mTaJ.js"),Ot=T("/_authed/_app/_dashboard/settings")({component:A(Lo,"component",()=>Ot.ssr)}),Mo=()=>import("./observability-YesClx7I.js"),Dt=T("/_authed/_app/_dashboard/observability")({component:A(Mo,"component",()=>Dt.ssr)}),Ho=()=>import("./logs-BxuHgZ2G.js"),It=T("/_authed/_app/_dashboard/logs")({component:A(Ho,"component",()=>It.ssr)}),Bo=()=>import("./dashboard-CuY_cefo.js"),zo=()=>import("./dashboard-CuY_cefo.js"),Pt=T("/_authed/_app/_dashboard/dashboard")({component:A(zo,"component",()=>Pt.ssr),loader:dr(Bo,"loader")}),J=_t.update({id:"/_public",getParentRoute:()=>Ce}),kt=gt.update({id:"/_authed",getParentRoute:()=>Ce}),Uo=bt.update({id:"/",path:"/",getParentRoute:()=>J}),te=yt.update({id:"/_auth",getParentRoute:()=>J}),jt=vt.update({id:"/_app",getParentRoute:()=>kt}),Ko=wt.update({id:"/showcase/jsonlidity",path:"/showcase/jsonlidity",getParentRoute:()=>J}),Wo=xt.update({id:"/showcase/dnd",path:"/showcase/dnd",getParentRoute:()=>J}),Go=Rt.update({id:"/showcase/deployer",path:"/showcase/deployer",getParentRoute:()=>J}),Jo=Et.update({id:"/signup",path:"/signup",getParentRoute:()=>te}),Yo=St.update({id:"/signin",path:"/signin",getParentRoute:()=>te}),Qo=Tt.update({id:"/reset-password",path:"/reset-password",getParentRoute:()=>te}),Xo=At.update({id:"/forgot-password",path:"/forgot-password",getParentRoute:()=>te}),U=$t.update({id:"/_dashboard",getParentRoute:()=>jt}),Zo=Nt.update({id:"/usage",path:"/usage",getParentRoute:()=>U}),es=Ct.update({id:"/support",path:"/support",getParentRoute:()=>U}),ts=Ot.update({id:"/settings",path:"/settings",getParentRoute:()=>U}),rs=Dt.update({id:"/observability",path:"/observability",getParentRoute:()=>U}),ns=It.update({id:"/logs",path:"/logs",getParentRoute:()=>U}),os=Pt.update({id:"/dashboard",path:"/dashboard",getParentRoute:()=>U}),ss={AuthedAppDashboardDashboardRoute:os,AuthedAppDashboardLogsRoute:ns,AuthedAppDashboardObservabilityRoute:rs,AuthedAppDashboardSettingsRoute:ts,AuthedAppDashboardSupportRoute:es,AuthedAppDashboardUsageRoute:Zo},as=U._addFileChildren(ss),is={AuthedAppDashboardRoute:as},cs=jt._addFileChildren(is),us={AuthedAppRoute:cs},ls=kt._addFileChildren(us),ds={PublicAuthForgotPasswordRoute:Xo,PublicAuthResetPasswordRoute:Qo,PublicAuthSigninRoute:Yo,PublicAuthSignupRoute:Jo},ps=te._addFileChildren(ds),hs={PublicAuthRoute:ps,PublicIndexRoute:Uo,PublicShowcaseDeployerRoute:Go,PublicShowcaseDndRoute:Wo,PublicShowcaseJsonlidityRoute:Ko},fs=J._addFileChildren(hs),ms={AuthedRoute:ls,PublicRoute:fs},_s=Ce._addFileChildren(ms)._addFileTypes();function gs(){const e=new _r,t=pr({routeTree:_s,context:{queryClient:e},defaultPreload:"intent",defaultErrorComponent:it,defaultNotFoundComponent:()=>h(ct,{})});return gr(t,e)}const zs=pn({createRouter:gs,getRouterManifest:Lr})(En);export{go as C,_t as R,Kn as a,Se as c,fo as d,ft as f,zs as h,ht as p,qn as u};
