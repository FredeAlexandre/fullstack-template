import*as s from"react";import{jsx as C}from"react/jsx-runtime";import{u as g}from"./button-U5Omqg_X.js";function b(e,n){const t=s.createContext(n),o=c=>{const{children:u,...f}=c,a=s.useMemo(()=>f,Object.values(f));return C(t.Provider,{value:a,children:u})};o.displayName=e+"Provider";function r(c){const u=s.useContext(t);if(u)return u;if(n!==void 0)return n;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[o,r]}function U(e,n=[]){let t=[];function o(c,u){const f=s.createContext(u),a=t.length;t=[...t,u];const i=d=>{const{scope:p,children:l,...N}=d,M=p?.[e]?.[a]||f,P=s.useMemo(()=>N,Object.values(N));return C(M.Provider,{value:P,children:l})};i.displayName=c+"Provider";function m(d,p){const l=p?.[e]?.[a]||f,N=s.useContext(l);if(N)return N;if(u!==void 0)return u;throw new Error(`\`${d}\` must be used within \`${c}\``)}return[i,m]}const r=()=>{const c=t.map(u=>s.createContext(u));return function(f){const a=f?.[e]||c;return s.useMemo(()=>({[`__scope${e}`]:{...f,[e]:a}}),[f,a])}};return r.scopeName=e,[o,A(r,...n)]}function A(...e){const n=e[0];if(e.length===1)return n;const t=()=>{const o=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(c){const u=o.reduce((f,{useScope:a,scopeName:i})=>{const d=a(c)[`__scope${i}`];return{...f,...d}},{});return s.useMemo(()=>({[`__scope${n.scopeName}`]:u}),[u])}};return t.scopeName=n.scopeName,t}function S(e){const n=s.useRef(e);return s.useEffect(()=>{n.current=e}),s.useMemo(()=>(...t)=>n.current?.(...t),[])}var h=globalThis?.document?s.useLayoutEffect:()=>{};function I(e,n,{checkForDefaultPrevented:t=!0}={}){return function(r){if(e?.(r),t===!1||!r.defaultPrevented)return n?.(r)}}function _({prop:e,defaultProp:n,onChange:t=()=>{}}){const[o,r]=E({defaultProp:n,onChange:t}),c=e!==void 0,u=c?e:o,f=S(t),a=s.useCallback(i=>{if(c){const d=typeof i=="function"?i(e):i;d!==e&&f(d)}else r(i)},[c,e,r,f]);return[u,a]}function E({defaultProp:e,onChange:n}){const t=s.useState(e),[o]=t,r=s.useRef(o),c=S(n);return s.useEffect(()=>{r.current!==o&&(c(o),r.current=o)},[o,r,c]),t}function x(e,n){return s.useReducer((t,o)=>n[t][o]??t,e)}var y=e=>{const{present:n,children:t}=e,o=O(n),r=typeof t=="function"?t({present:o.isPresent}):s.Children.only(t),c=g(o.ref,R(r));return typeof t=="function"||o.isPresent?s.cloneElement(r,{ref:c}):null};y.displayName="Presence";function O(e){const[n,t]=s.useState(),o=s.useRef({}),r=s.useRef(e),c=s.useRef("none"),u=e?"mounted":"unmounted",[f,a]=x(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return s.useEffect(()=>{const i=v(o.current);c.current=f==="mounted"?i:"none"},[f]),h(()=>{const i=o.current,m=r.current;if(m!==e){const p=c.current,l=v(i);e?a("MOUNT"):l==="none"||i?.display==="none"?a("UNMOUNT"):a(m&&p!==l?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,a]),h(()=>{if(n){let i;const m=n.ownerDocument.defaultView??window,d=l=>{const M=v(o.current).includes(l.animationName);if(l.target===n&&M&&(a("ANIMATION_END"),!r.current)){const P=n.style.animationFillMode;n.style.animationFillMode="forwards",i=m.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=P)})}},p=l=>{l.target===n&&(c.current=v(o.current))};return n.addEventListener("animationstart",p),n.addEventListener("animationcancel",d),n.addEventListener("animationend",d),()=>{m.clearTimeout(i),n.removeEventListener("animationstart",p),n.removeEventListener("animationcancel",d),n.removeEventListener("animationend",d)}}else a("ANIMATION_END")},[n,a]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:s.useCallback(i=>{i&&(o.current=getComputedStyle(i)),t(i)},[])}}function v(e){return e?.animationName||"none"}function R(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning;return t?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}export{y as P,h as a,_ as b,U as c,I as d,b as e,S as u};
