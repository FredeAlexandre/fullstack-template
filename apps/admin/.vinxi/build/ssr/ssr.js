import{H3Event as pe,getRequestURL as Rt,getResponseHeaders as Ot,getRequestWebStream as At,getRequestHeaders as Dt,getResponseStatus as Ct,eventHandler as We}from"h3";import{AsyncLocalStorage as kt}from"node:async_hooks";import{isPlainArray as It,isPlainObject as xe,defer as jt,useRouter as H,pick as $t,ScriptOnce as he,TSR_DEFERRED_PROMISE as De,createControlledPromise as Ft,RouterProvider as Vt,createMemoryHistory as Pt,useMatch as qt,rootRouteId as Lt,ErrorComponent as Mt,Link as me,defaultTransformer as q,useRouterState as W,encode as Ht,isRedirect as ge,isNotFound as ye,createRootRouteWithContext as Bt,Outlet as zt,ScrollRestoration as Ut,createFileRoute as Je,lazyRouteComponent as Ye,redirect as Qe,createRouter as Kt}from"@tanstack/react-router";import{jsxs as C,Fragment as L,jsx as p}from"react/jsx-runtime";import*as V from"react";import{createContext as Gt,createElement as Xe}from"react";import{Transform as Wt,PassThrough as Jt}from"node:stream";import te from"react-dom/server";import{QueryClient as Yt}from"@tanstack/react-query";import{routerWithQueryClient as Qt}from"@tanstack/react-router-with-query";import{TanStackRouterDevtools as Xt}from"@tanstack/router-devtools";import{Toaster as Zt}from"sonner";import{useLocalStorage as er}from"usehooks-ts";import tr from"fs";import rr from"path";import nr from"os";import or from"crypto";import{drizzle as sr}from"drizzle-orm/node-postgres";import{betterAuth as ar}from"better-auth";import{drizzleAdapter as ir}from"better-auth/adapters/drizzle";import{admin as cr}from"better-auth/plugins";import{PgUUID as ur,PgChar as lr,PgVarchar as dr,pgTable as Y,integer as fr,text as w,timestamp as O,boolean as Ce}from"drizzle-orm/pg-core";import{getTableColumns as pr,is as M,eq as hr}from"drizzle-orm";import{MySqlVarChar as mr,MySqlVarBinary as gr,MySqlChar as yr}from"drizzle-orm/mysql-core";import{SQLiteText as _r}from"drizzle-orm/sqlite-core";import{z as E}from"zod";const vr=()=>({routes:{__root__:{filePath:"__root.tsx",children:["/","/first-launch"],preloads:["/_build/assets/client-DwHcPOMt.js","/_build/assets/client-S9szjlsc.js"]},"/":{filePath:"index.tsx"},"/first-launch":{filePath:"first-launch.tsx"}}});function Ze(e){return globalThis.MANIFEST[e]}function wr(){const e=vr(),t=e.routes.__root__=e.routes.__root__||{};t.assets=t.assets||[];const r=Ze("client");return t.assets.push({tag:"script",attrs:{src:r.inputs[r.handler]?.output.path,type:"module",async:!0,suppressHydrationWarning:!0}}),e}function br(){const e=wr();return{...e,routes:Object.fromEntries(Object.entries(e.routes).map(([t,r])=>{const{preloads:n,assets:s}=r;return[t,{preloads:n,assets:s}]}))}}class z{constructor(){this.cache=new Map}static create(){return z.instance||(z.instance=new z),z.instance}createContext(t,r){const n=Gt(r);return this.cache.set(t,n),n}get(t,r){return this.cache.get(t)||this.createContext(t,r)}}const et=z.create();function xr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var le,ke;function Er(){if(ke)return le;ke=1;const e={},t=e.hasOwnProperty,r=(i,u)=>{for(const _ in i)t.call(i,_)&&u(_,i[_])},n=(i,u)=>(u&&r(u,(_,h)=>{i[_]=h}),i),s=(i,u)=>{const _=i.length;let h=-1;for(;++h<_;)u(i[h])},a=i=>"\\u"+("0000"+i).slice(-4),o=(i,u)=>{let _=i.toString(16);return u?_:_.toUpperCase()},c=e.toString,d=Array.isArray,f=i=>typeof Buffer=="function"&&Buffer.isBuffer(i),m=i=>c.call(i)=="[object Object]",v=i=>typeof i=="string"||c.call(i)=="[object String]",b=i=>typeof i=="number"||c.call(i)=="[object Number]",A=i=>typeof i=="bigint",k=i=>typeof i=="function",I=i=>c.call(i)=="[object Map]",P=i=>c.call(i)=="[object Set]",oe={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},se=/[\\\b\f\n\r\t]/,ae=/[0-9]/,ie=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,S=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,l=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,g=(i,u)=>{const _=()=>{ce=j,++u.indentLevel,j=u.indent.repeat(u.indentLevel)},h={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},y=u&&u.json;y&&(h.quotes="double",h.wrap=!0),u=n(h,u),u.quotes!="single"&&u.quotes!="double"&&u.quotes!="backtick"&&(u.quotes="single");const x=u.quotes=="double"?'"':u.quotes=="backtick"?"`":"'",T=u.compact,D=u.lowercaseHex;let j=u.indent.repeat(u.indentLevel),ce="";const _t=u.__inline1__,X=u.__inline2__,B=T?"":`
`;let R,Z=!0;const vt=u.numbers=="binary",wt=u.numbers=="octal",bt=u.numbers=="decimal",xt=u.numbers=="hexadecimal";if(y&&i&&k(i.toJSON)&&(i=i.toJSON()),!v(i)){if(I(i))return i.size==0?"new Map()":(T||(u.__inline1__=!0,u.__inline2__=!1),"new Map("+g(Array.from(i),u)+")");if(P(i))return i.size==0?"new Set()":"new Set("+g(Array.from(i),u)+")";if(f(i))return i.length==0?"Buffer.from([])":"Buffer.from("+g(Array.from(i),u)+")";if(d(i))return R=[],u.wrap=!0,_t&&(u.__inline1__=!1,u.__inline2__=!0),X||_(),s(i,N=>{Z=!1,X&&(u.__inline2__=!1),R.push((T||X?"":j)+g(N,u))}),Z?"[]":X?"["+R.join(", ")+"]":"["+B+R.join(","+B)+B+(T?"":ce)+"]";if(b(i)||A(i)){if(y)return JSON.stringify(Number(i));let N;if(bt)N=String(i);else if(xt){let $=i.toString(16);D||($=$.toUpperCase()),N="0x"+$}else vt?N="0b"+i.toString(2):wt&&(N="0o"+i.toString(8));return A(i)?N+"n":N}else return A(i)?y?JSON.stringify(Number(i)):i+"n":m(i)?(R=[],u.wrap=!0,_(),r(i,(N,$)=>{Z=!1,R.push((T?"":j)+g(N,u)+":"+(T?"":" ")+g($,u))}),Z?"{}":"{"+B+R.join(","+B)+B+(T?"":ce)+"}"):y?JSON.stringify(i)||"null":String(i)}const Et=u.escapeEverything?S:l;return R=i.replace(Et,(N,$,Re,ee,St,Tt)=>{if($){if(u.minimal)return $;const Oe=$.charCodeAt(0),Ae=$.charCodeAt(1);if(u.es6){const Nt=(Oe-55296)*1024+Ae-56320+65536;return"\\u{"+o(Nt,D)+"}"}return a(o(Oe,D))+a(o(Ae,D))}if(Re)return a(o(Re.charCodeAt(0),D));if(N=="\0"&&!y&&!ae.test(Tt.charAt(St+1)))return"\\0";if(ee)return ee==x||u.escapeEverything?"\\"+ee:ee;if(se.test(N))return oe[N];if(u.minimal&&!ie.test(N))return N;const ue=o(N.charCodeAt(0),D);return y||ue.length>2?a(ue):"\\x"+("00"+ue).slice(-2)}),x=="`"&&(R=R.replace(/\$\{/g,"\\${")),u.isScriptContext&&(R=R.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,y?"\\u003C!--":"\\x3C!--")),u.wrap&&(R=x+R+x),R};return g.version="3.0.2",le=g,le}var Sr=Er();const Q=xr(Sr);var Tr="Invariant failed";function J(e,t){if(!e)throw new Error(Tr)}function Nr(e,t,r){if(!r.router.isServer)return t;r.match.extracted=r.match.extracted||[];const n=r.match.extracted;return _e(t,(a,o)=>{const c=a instanceof ReadableStream?"stream":a instanceof Promise?"promise":void 0;if(c==="stream"){const[d,f]=a.tee(),m={dataType:e,type:c,path:o,id:n.length,matchIndex:r.match.index,streamState:Cr({stream:f})};return n.push(m),d}else if(c==="promise"){jt(a);const d={dataType:e,type:c,path:o,id:n.length,matchIndex:r.match.index,promiseState:a};n.push(d)}return a})}function Rr(e){const t=H(),r=t.state.matches[e.matchIndex];if(!t.isServer)return null;const n=r.extracted,[s,a]=["__beforeLoadContext","loaderData"].map(o=>n?n.reduce((c,d)=>d.dataType!==o?ve(c,["temp",...d.path],void 0):c,{temp:r[o]}).temp:r[o]);if(s!==void 0||a!==void 0||n?.length){const o=`__TSR__.initMatch(${Q({index:e.matchIndex,__beforeLoadContext:t.options.transformer.stringify(s),loaderData:t.options.transformer.stringify(a),extracted:n?Object.fromEntries(n.map(c=>[c.id,$t(c,["type","path"])])):{}},{isScriptContext:!0,wrap:!0,json:!0})})`;return C(L,{children:[p(he,{children:o}),n?n.map(c=>c.type==="stream"?p(Dr,{entry:c},c.id):p(Or,{entry:c},c.id)):null]})}return null}function _e(e,t,r=[]){if(It(e))return e.map((s,a)=>_e(s,t,[...r,`${a}`]));if(xe(e)){const s={};for(const a in e)s[a]=_e(e[a],t,[...r,a]);return s}const n=t(e,r);return n!==e?n:e}function Or({entry:e}){return p("div",{className:"tsr-once",children:p(V.Suspense,{fallback:null,children:p(Ar,{entry:e})})})}function Ar({entry:e}){const t=H();if(e.promiseState[De].status==="pending")throw e.promiseState;const r=`__TSR__.resolvePromise(${Q({...e,value:e.promiseState[De]},{isScriptContext:!0,wrap:!0,json:!0})})`;return t.injectScript(r),p(L,{})}function Dr({entry:e}){J(e.streamState);const t=H();return p(tt,{streamState:e.streamState,children:r=>{const n=r?`__TSR__.matches[${e.matchIndex}].extracted[${e.id}].value.controller.enqueue(new TextEncoder().encode(${Q(r.toString(),{isScriptContext:!0,wrap:!0,json:!0})}))`:`__TSR__.matches[${e.matchIndex}].extracted[${e.id}].value.controller.close()`;return t.injectScript(n),p(L,{})}})}function Cr({stream:e}){const t={promises:[]},r=e.getReader(),n=s=>(t.promises[s]=Ft(),r.read().then(({done:a,value:o})=>{if(a){t.promises[s].resolve(null),r.releaseLock();return}return t.promises[s].resolve(o),n(s+1)}));return n(0).catch(s=>{console.error("stream read error",s)}),t}function tt({streamState:e,children:t,__index:r=0}){const n=e.promises[r];if(!n)return null;if(n.status==="pending")throw n;const s=n.value;return C(L,{children:[t(s),p("div",{className:"tsr-once",children:p(V.Suspense,{fallback:null,children:p(tt,{streamState:e,__index:r+1,children:t})})})]})}function ve(e,t,r){if(t.length===0)return r;const[n,...s]=t;return Array.isArray(e)?e.map((a,o)=>o===Number(n)?ve(a,s,r):a):xe(e)?{...e,[n]:ve(e[n],s,r)}:e}function Ie(e){e.router.AfterEachMatch=Rr,e.router.serializer=n=>Q(n,{isScriptContext:!0,wrap:!0,json:!0});const t=et.get("TanStackRouterHydrationContext",{}),r=V.useMemo(()=>{var n,s;return{router:e.router.dehydrate(),payload:(s=(n=e.router.options).dehydrate)==null?void 0:s.call(n)}},[e.router]);return p(t.Provider,{value:r,children:p(Vt,{router:e.router})})}function kr(e={}){let t,r=!1;const n=o=>{if(t&&t!==o)throw new Error("Context conflict")};let s;if(e.asyncContext){const o=e.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?s=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const a=()=>{if(s&&t===void 0){const o=s.getStore();if(o!==void 0)return o}return t};return{use:()=>{const o=a();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>a(),set:(o,c)=>{c||n(o),t=o,r=!0},unset:()=>{t=void 0,r=!1},call:(o,c)=>{n(o),t=o;try{return s?s.run(o,c):c()}finally{r||(t=void 0)}},async callAsync(o,c){t=o;const d=()=>{t=o},f=()=>t===o?d:void 0;Fe.add(f);try{const m=s?s.run(o,c):c();return r||(t=void 0),await m}finally{Fe.delete(f)}}}}function Ir(e={}){const t={};return{get(r,n={}){return t[r]||(t[r]=kr({...e,...n})),t[r]}}}const re=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},je="__unctx__",jr=re[je]||(re[je]=Ir()),$r=(e,t={})=>jr.get(e,t),$e="__unctx_async_handlers__",Fe=re[$e]||(re[$e]=new Set);function Fr(e){let t;const r=nt(e),n={duplex:"half",method:e.method,headers:e.headers};return e.node.req.body instanceof ArrayBuffer?new Request(r,{...n,body:e.node.req.body}):new Request(r,{...n,get body(){return t||(t=Hr(e),t)}})}function Ee(e){return e.web??={request:Fr(e),url:nt(e)},e.web.request}function Vr(){return Se()}const rt=Symbol("$HTTPEvent");function Pr(e){return typeof e=="object"&&(e instanceof pe||e?.[rt]instanceof pe||e?.__is_event__===!0)}function K(e){return function(...t){let r=t[0];if(Pr(r))t[0]=r instanceof pe||r.__is_event__?r:r[rt];else{if(!globalThis.app.config.server.experimental?.asyncContext)throw new Error("AsyncLocalStorage was not enabled. Use the `server.experimental.asyncContext: true` option in your app configuration to enable it. Or, pass the instance of HTTPEvent that you have as the first argument to the function.");if(r=Vr(),!r)throw new Error("No HTTPEvent found in AsyncLocalStorage. Make sure you are using the function within the server runtime.");t.unshift(r)}return e(...t)}}const qr=K(Dt),nt=K(Rt),Lr=K(Ct),Mr=K(Ot),Hr=K(At),Br=K(Ee);function zr(){return $r("nitro-app",{asyncContext:!!globalThis.app.config.server.experimental?.asyncContext,AsyncLocalStorage:kt})}function Se(){return zr().use().event}function Ur(e){return e instanceof Headers?new Headers(e):Array.isArray(e)?new Headers(e):typeof e=="object"?new Headers(e):new Headers}function we(...e){return e.reduce((t,r)=>{const n=Ur(r);for(const[s,a]of n.entries())t.set(s,a);return t},new Headers)}function Kr({createRouter:e,getRouterManifest:t}){return r=>We(async n=>{const s=Ee(n),a=new URL(s.url),o=a.href.replace(a.origin,""),c=Pt({initialEntries:[o]}),d=e();d.serializeLoaderData=Nr,t&&(d.manifest=t()),d.update({history:c}),await d.load();const f=Gr({event:n,router:d});return await r({request:s,router:d,responseHeaders:f})})}function Gr(e){e.event.__tsrHeadersSent=!0;let t=we(Mr(e.event),{"Content-Type":"text/html; charset=UTF-8"},...e.router.state.matches.map(n=>n.headers));const{redirect:r}=e.router.state;return r&&(t=we(t,r.headers,{Location:r.href})),t}var Wr=" daum[ /]| deusu/| yadirectfetcher|(?:^|[^g])news(?!sapphire)|(?<! (?:channel/|google/))google(?!(app|/google| pixel))|(?<! cu)bots?(?:\\b|_)|(?<!(?:lib))http|(?<![hg]m)score|@[a-z][\\w-]+\\.|\\(\\)|\\.com\\b|\\btime/|^<|^[\\w \\.\\-\\(?:\\):]+(?:/v?\\d+(?:\\.\\d+)?(?:\\.\\d{1,10})*?)?(?:,|$)|^[^ ]{50,}$|^\\d+\\b|^\\w*search\\b|^\\w+/[\\w\\(\\)]*$|^active|^ad muncher|^amaya|^avsdevicesdk/|^biglotron|^bot|^bw/|^clamav[ /]|^client/|^cobweb/|^custom|^ddg[_-]android|^discourse|^dispatch/\\d|^downcast/|^duckduckgo|^facebook|^getright/|^gozilla/|^hobbit|^hotzonu|^hwcdn/|^jeode/|^jetty/|^jigsaw|^microsoft bits|^movabletype|^mozilla/5\\.0\\s[a-z\\.-]+$|^mozilla/\\d\\.\\d \\(compatible;?\\)$|^mozilla/\\d\\.\\d \\w*$|^navermailapp|^netsurf|^offline|^owler|^php|^postman|^python|^rank|^read|^reed|^rest|^rss|^snapchat|^space bison|^svn|^swcd |^taringa|^thumbor/|^track|^valid|^w3c|^webbandit/|^webcopier|^wget|^whatsapp|^wordpress|^xenu link sleuth|^yahoo|^yandex|^zdm/\\d|^zoom marketplace/|^{{.*}}$|adscanner/|analyzer|archive|ask jeeves/teoma|bit\\.ly/|bluecoat drtr|browsex|burpcollaborator|capture|catch|check\\b|checker|chrome-lighthouse|chromeframe|classifier|cloudflare|convertify|cookiehubscan|crawl|cypress/|dareboost|datanyze|dejaclick|detect|dmbrowser|download|evc-batch/|exaleadcloudview|feed|firephp|functionize|gomezagent|headless|httrack|hubspot marketing grader|hydra|ibisbrowser|images|infrawatch|insight|inspect|iplabel|ips-agent|java(?!;)|jsjcw_scanner|library|linkcheck|mail\\.ru/|manager|measure|neustar wpm|node|nutch|offbyone|optimize|pageburst|pagespeed|parser|perl|phantomjs|pingdom|powermarks|preview|proxy|ptst[ /]\\d|reputation|resolver|retriever|rexx;|rigor|rss\\b|scanner\\.|scrape|server|sogou|sparkler/|speedcurve|spider|splash|statuscake|supercleaner|synapse|synthetic|tools|torrent|trace|transcoder|url|virtuoso|wappalyzer|webglance|webkit2png|whatcms/|zgrab",Jr=/bot|crawl|http|lighthouse|scan|search|spider/i,G;function Yr(){if(G instanceof RegExp)return G;try{G=new RegExp(Wr,"i")}catch{G=Jr}return G}function Ve(e){return!!e&&Yr().test(e)}function Qr(e){const t=ot(()=>e.injectedHtml.map(r=>r()).join(""));return new Wt({transform(r,n,s){t.transform(r,this.push.bind(this)).then(()=>s()).catch(a=>s(a))},flush(r){t.flush(this.push.bind(this)).then(()=>r()).catch(n=>r(n))}})}function Xr(e){const t=ot(()=>e.injectedHtml.map(n=>n()).join("")),r=new TextEncoder;return new TransformStream({transform(n,s){return t.transform(n,a=>(s.enqueue(r.encode(a)),!0))},flush(n){return t.flush(s=>(n.enqueue(s),!0))}})}const Zr=/(<body)/,en=/(<\/body>)/,tn=/(<\/html>)/,rn=/(<\/[a-zA-Z][\w:.-]*?>)/g,nn=new TextDecoder;function ot(e){let t=!1,r="",n="";return{async transform(s,a){const o=r+nn.decode(s),c=o.match(Zr),d=o.match(en),f=o.match(tn);try{if(c&&(t=!0),!t){a(o),r="";return}const m=e();if(d&&f&&d.index<f.index){const v=d.index+d[0].length,b=f.index+f[0].length,A=o.slice(0,v)+m+o.slice(v,b)+o.slice(b);a(A),r=""}else{let v,b=0;for(;(v=rn.exec(o))!==null;)b=v.index+v[0].length;if(b>0){const A=o.slice(0,b)+m+n;a(A),r=o.slice(b)}else r=o,n+=m}}catch(m){throw console.error("Error transforming HTML:",m),m}},async flush(s){r&&s(r)}}}const on=async({request:e,router:t,responseHeaders:r})=>{if(typeof te.renderToReadableStream=="function"){const n=await te.renderToReadableStream(p(Ie,{router:t}),{signal:e.signal});Ve(e.headers.get("User-Agent"))&&await n.allReady;const a=[Xr(t)].reduce((o,c)=>o.pipeThrough(c),n);return new Response(a,{status:t.state.statusCode,headers:r})}if(typeof te.renderToPipeableStream=="function"){const n=new Jt;try{const o=te.renderToPipeableStream(p(Ie,{router:t}),{...Ve(e.headers.get("User-Agent"))?{onAllReady(){o.pipe(n)}}:{onShellReady(){o.pipe(n)}},onError:(c,d)=>{console.log("Error in renderToPipeableStream:",c,d)}})}catch(o){console.log("Error in renderToPipeableStream:",o)}const a=[Qr(t)].reduce((o,c)=>o.pipe(c),n);return new Response(a,{status:t.state.statusCode,headers:r})}throw new Error("No renderToReadableStream or renderToPipeableStream found in react-dom/server. Ensure you are using a version of react-dom that supports streaming.")};function st({error:e}){const t=H(),r=qt({strict:!1,select:n=>n.id===Lt});return console.error(e),C("div",{className:"min-w-0 flex-1 p-4 flex flex-col items-center justify-center gap-6",children:[p(Mt,{error:e}),C("div",{className:"flex gap-2 items-center flex-wrap",children:[p("button",{type:"button",onClick:()=>{t.invalidate()},className:"px-2 py-1 bg-gray-600 dark:bg-gray-700 rounded text-white uppercase font-extrabold",children:"Try Again"}),r?p(me,{to:"/",className:"px-2 py-1 bg-gray-600 dark:bg-gray-700 rounded text-white uppercase font-extrabold",children:"Home"}):p(me,{to:"/",className:"px-2 py-1 bg-gray-600 dark:bg-gray-700 rounded text-white uppercase font-extrabold",onClick:n=>{n.preventDefault(),window.history.back()},children:"Go Back"})]})]})}function at({children:e}){return C("div",{className:"space-y-2 p-2",children:[p("div",{className:"text-gray-600 dark:text-gray-400",children:e||p("p",{children:"The page you are looking for does not exist."})}),C("p",{className:"flex items-center gap-2 flex-wrap",children:[p("button",{type:"button",onClick:()=>window.history.back(),className:"bg-emerald-500 text-white px-2 py-1 rounded uppercase font-black text-sm",children:"Go back"}),p(me,{to:"/",className:"bg-cyan-600 text-white px-2 py-1 rounded uppercase font-black text-sm",children:"Start Over"})]})]})}function it({tag:e,attrs:t,children:r}){switch(e){case"title":return p("title",{...t,suppressHydrationWarning:!0,children:r});case"meta":return p("meta",{...t,suppressHydrationWarning:!0});case"link":return p("link",{...t,suppressHydrationWarning:!0});case"style":return p("style",{...t,dangerouslySetInnerHTML:{__html:r}});case"script":return t&&t.src?p("script",{...t,suppressHydrationWarning:!0}):typeof r=="string"?p("script",{...t,dangerouslySetInnerHTML:{__html:r},suppressHydrationWarning:!0}):null;default:return null}}const sn=[];function ne(e,t){const r=t||e||{};return typeof r.method>"u"&&(r.method="GET"),{options:r,middleware:n=>ne(void 0,Object.assign(r,{middleware:n})),validator:n=>ne(void 0,Object.assign(r,{validator:n})),handler:(...n)=>{const[s,a]=n;Object.assign(r,{...s,extractedFn:s,serverFn:a}),J(s.url);const o=[...r.middleware||[],ln(r)];return Object.assign(async c=>qe(o,"client",{...s,method:r.method,data:c?.data,headers:c?.headers,context:Object.assign({},s)}).then(d=>d.result),{...s,__executeServer:c=>{const d=c instanceof FormData?an(c):c;return qe(o,"server",{...s,...d}).then(f=>({result:f.result,context:f.sendContext}))}})}}}function an(e){const t=e.get("__TSR_CONTEXT");if(e.delete("__TSR_CONTEXT"),typeof t!="string")return{context:{},data:e};try{return{context:q.parse(t),data:e}}catch{return{data:e}}}function cn(e){const t=new Set,r=[],n=s=>{s.forEach(a=>{a.options.middleware&&n(a.options.middleware),t.has(a)||(t.add(a),r.push(a))})};return n(e),r}const Pe=(e,t,r)=>e({data:t.data,context:t.context,sendContext:t.sendContext,method:t.method,next:n=>{const s={...t.context,...n?.context},a={...t.sendContext,...n?.sendContext??{}},o=we(t.headers,n?.headers);return r({method:t.method,data:t.data,context:s,sendContext:a,headers:o,result:n?.result??t.result})}});function un(e,t){if(e==null)return{};if("~standard"in e){const r=e["~standard"].validate(t);if(r instanceof Promise)throw new Error("Async validation not supported");if(r.issues)throw new Error(JSON.stringify(r.issues,void 0,2));return r.value}if("parse"in e)return e.parse(t);if(typeof e=="function")return e(t);throw new Error("Invalid validator type!")}async function qe(e,t,r){const n=cn([...sn,...e]),s=async a=>{const o=n.shift();if(!o)return a;o.options.validator&&(t!=="client"||o.options.validateClient)&&(a.data=await un(o.options.validator,a.data));const c=t==="client"?o.options.client:o.options.server;return c?Pe(c,a,async d=>{if(t==="client"&&o.options.clientAfter){const f=await s(d);return Pe(o.options.clientAfter,f,m=>m)}return s(d)}):s(a)};return s({...r,headers:r.headers||{},sendContext:r.sendContext||{},context:r.context||{}})}function ln(e){return{_types:void 0,options:{validator:e.validator,validateClient:e.validateClient,client:async({next:t,sendContext:r,...n})=>{var s;const a=await((s=e.extractedFn)==null?void 0:s.call(e,{...n,context:r}));return t(a)},server:async({next:t,...r})=>{var n;const s=await((n=e.serverFn)==null?void 0:n.call(e,r));return t({result:s})}}}}const dn=()=>{const e=H(),t=W({select:a=>a.matches.map(o=>o.meta).filter(Boolean)}),r=V.useMemo(()=>{const a=[],o={};let c;return[...t].reverse().forEach(d=>{[...d].reverse().forEach(f=>{if(f)if(f.title)c||(c={tag:"title",children:f.title});else{const m=f.name??f.property;if(m){if(o[m])return;o[m]=!0}a.push({tag:"meta",attrs:{...f}})}})}),c&&a.push(c),a.reverse(),a},[t]),n=W({select:a=>a.matches.map(o=>o.links).filter(Boolean).flat(1).map(o=>({tag:"link",attrs:{...o}})),structuralSharing:!0}),s=W({select:a=>{const o=[];return a.matches.map(c=>e.looseRoutesById[c.routeId]).forEach(c=>{var d,f,m;return(m=(f=(d=e.manifest)==null?void 0:d.routes[c.id])==null?void 0:f.preloads)==null?void 0:m.filter(Boolean).forEach(v=>{o.push({tag:"link",attrs:{rel:"modulepreload",href:v}})})}),o},structuralSharing:!0});return hn([...r,...s,...n],a=>JSON.stringify(a))},fn=()=>{const e=H(),t=dn(),r=V.useContext(et.get("TanStackRouterHydrationContext",{}));return C(L,{children:[t.map((n,s)=>Xe(it,{...n,key:`tsr-meta-${JSON.stringify(n)}`})),C(L,{children:[p(he,{log:!1,children:'__TSR__={matches:[],streamedValues:{},queue:[],runQueue:()=>{let e=!1;__TSR__.queue=__TSR__.queue.filter((_=>!_()||(e=!0,!1))),e&&__TSR__.runQueue()},initMatch:e=>{__TSR__.queue.push((()=>(__TSR__.matches[e.index]||(__TSR__.matches[e.index]=e,Object.entries(e.extracted).forEach((([e,_])=>{if("stream"===_.type){let e;_.value=new ReadableStream({start(_){e=_}}),_.value.controller=e}else if("promise"===_.type){let e,t;_.value=new Promise(((_,u)=>{e=_,t=u})),_.resolve=e,_.reject=t}}))),!0))),__TSR__.runQueue()},resolvePromise:e=>{__TSR__.queue.push((()=>{const _=__TSR__.matches[e.matchIndex];if(_){const t=_.extracted[e.id];if(t)return t.resolve(e.value.data),!0}return!1})),__TSR__.runQueue()},cleanScripts:()=>{document.querySelectorAll(".tsr-once").forEach((e=>{e.remove()}))}};'}),p(he,{children:`__TSR__.dehydrated = ${Q(e.options.transformer.stringify(r),{isScriptContext:!0,wrap:!0,json:!0})}`})]})]})},pn=()=>p(L,{children:fn()});function hn(e,t){const r=new Set;return e.filter(n=>{const s=t(n);return r.has(s)?!1:(r.add(s),!0)})}const mn=()=>{const e=H(),t=W({select:s=>{const a=[];return s.matches.map(o=>e.looseRoutesById[o.routeId]).forEach(o=>{var c,d,f;return(f=(d=(c=e.manifest)==null?void 0:c.routes[o.id])==null?void 0:d.assets)==null?void 0:f.filter(m=>m.tag==="script").forEach(m=>{a.push({tag:"script",attrs:m.attrs,children:m.children})})}),a},structuralSharing:!0}),{scripts:r}=W({select:s=>({scripts:s.matches.map(a=>a.scripts).filter(Boolean).flat(1).map(({children:a,...o})=>({tag:"script",attrs:{...o,suppressHydrationWarning:!0},children:a}))})}),n=[...r,...t];return p(L,{children:n.map((s,a)=>Xe(it,{...s,key:`tsr-scripts-${s.tag}-${a}`}))})},gn="/_build/assets/app-C95hcxyN.css",yn=({title:e,description:t,keywords:r,image:n})=>[{title:e},{name:"description",content:t},{name:"keywords",content:r},{name:"twitter:title",content:e},{name:"twitter:description",content:t},{name:"twitter:creator",content:"@tannerlinsley"},{name:"twitter:site",content:"@tannerlinsley"},{name:"og:type",content:"website"},{name:"og:title",content:e},{name:"og:description",content:t},...n?[{name:"twitter:image",content:n},{name:"twitter:card",content:"summary_large_image"},{name:"og:image",content:n}]:[]],_n={theme:"system",setTheme:()=>null},ct=V.createContext(_n);function vn({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme",...n}){const[s,a]=er(r,t,{initializeWithValue:!1});V.useEffect(()=>{const c=window.document.documentElement;if(c.classList.remove("light","dark"),s==="system"){const d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";c.classList.add(d);return}c.classList.add(s)},[s]);const o={theme:s,setTheme:a};return V.createElement(ct.Provider,{...n,value:o},e)}const wn=()=>{const e=V.useContext(ct);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},bn=({...e})=>{const{theme:t="system"}=wn();return V.createElement(Zt,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};async function xn(e,t,r){var n;const s=t[0];if(xe(s)&&s.method){const f=s,m=f.data instanceof FormData?"formData":"payload",v=new Headers({...m==="payload"?{"content-type":"application/json",accept:"application/json"}:{},...f.headers instanceof Headers?Object.fromEntries(f.headers.entries()):f.headers||{}});if(f.method==="GET"){const I=Ht({payload:q.stringify({data:f.data,context:f.context})});I&&(e+=`&${I}`)}const b=new Request(e,{method:f.method,headers:v,...En(f)}),A=await r(b),k=await Le(A);if((n=k.headers.get("content-type"))!=null&&n.includes("application/json")){const I=await k.text(),P=I?q.parse(I):void 0;if(ge(P)||ye(P))throw P;return P}return k}const a=new Request(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}),o=await Le(await r(a)),c=o.headers.get("content-type"),d=await o.text();return c&&c.includes("application/json")?d?JSON.parse(d):void 0:d}function En(e){return e.method==="POST"?e.data instanceof FormData?(e.data.set("__TSR_CONTEXT",q.stringify(e.context)),{body:e.data}):{body:q.stringify({data:e.data??null,context:e.context})}:{}}async function Le(e){if(!e.ok){const t=e.headers.get("content-type"),r=t&&t.includes("application/json"),n=await(async()=>r?await e.json():await e.text())(),s=`Request failed with status ${e.status}`;throw r?new Error(JSON.stringify({message:s,body:n})):new Error([s,`${JSON.stringify(n,null,2)}`].join(`

`))}return e}function Sn(e){return e.replace(/^\/|\/$/g,"")}function Tn(e,t,r){return`${e}/${Sn("/_server")}/?_serverFnId=${encodeURI(t)}&_serverFnName=${encodeURI(r)}`}We(Nn);async function Nn(e){return ut(Ee(e))}async function ut(e,t){var r,n;const s=e.method,a=new URL(e.url,"http://localhost:3000"),o=Object.fromEntries(a.searchParams.entries()),c=o._serverFnId,d=o._serverFnName;if(!c||!d)throw new Error("Invalid request");J(typeof c=="string");const f=(n=await((r=Ze("server").chunks[c])==null?void 0:r.import()))==null?void 0:n[d],m=await(async()=>{try{const v=await(async()=>{var A;if((A=e.headers.get("Content-Type"))!=null&&A.includes("multipart/form-data"))return J(s.toLowerCase()!=="get","GET requests with FormData payloads are not supported"),await e.formData();if(s.toLowerCase()==="get")return o.payload?q.parse(o.payload):void 0;const k=await e.text();return q.parse(k)})(),b=await f(v);return b instanceof Response?b:ge(b)||ye(b)?Me(b):new Response(b!==void 0?q.stringify(b):void 0,{status:Lr(Se()),headers:{"Content-Type":"application/json"}})}catch(v){return v instanceof Response?v:ge(v)||ye(v)?Me(v):(console.error("Server Fn Error!"),console.error(v),console.info(),new Response(JSON.stringify(v),{status:500,headers:{"Content-Type":"application/json"}}))}})();if(m.headers.get("Content-Type")==="application/json"){const b=await m.clone().text();b&&JSON.stringify(JSON.parse(b))}return m}function Me(e){const{headers:t,...r}=e;return new Response(JSON.stringify(r),{status:200,headers:{"Content-Type":"application/json",...t||{}}})}const He="http://localhost:3000";function lt(e,t,r){const n=Tn(He,t,r);return Object.assign((...a)=>(J(a.length===1),xn(n,a,async o=>{const c=Se(),d=qr(c);return Object.entries(d).forEach(([f,m])=>{o.headers.has(f)||o.headers.append(f,m)}),ut(o)})),{url:n.replace(He,""),filename:t,functionId:r})}var Be={},F={exports:{}};const Rn="dotenv",On="16.4.7",An="Loads environment variables from .env file",Dn="lib/main.js",Cn="lib/main.d.ts",kn={".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},In={"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},jn={type:"git",url:"git://github.com/motdotla/dotenv.git"},$n="https://dotenvx.com",Fn=["dotenv","env",".env","environment","variables","config","settings"],Vn="README.md",Pn="BSD-2-Clause",qn={"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},Ln={node:">=12"},Mn={fs:!1},Hn={name:Rn,version:On,description:An,main:Dn,types:Cn,exports:kn,scripts:In,repository:jn,funding:$n,keywords:Fn,readmeFilename:Vn,license:Pn,devDependencies:qn,engines:Ln,browser:Mn};var ze;function Bn(){if(ze)return F.exports;ze=1;const e=tr,t=rr,r=nr,n=or,a=Hn.version,o=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function c(l){const g={};let i=l.toString();i=i.replace(/\r\n?/mg,`
`);let u;for(;(u=o.exec(i))!=null;){const _=u[1];let h=u[2]||"";h=h.trim();const y=h[0];h=h.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),y==='"'&&(h=h.replace(/\\n/g,`
`),h=h.replace(/\\r/g,"\r")),g[_]=h}return g}function d(l){const g=k(l),i=S.configDotenv({path:g});if(!i.parsed){const y=new Error(`MISSING_DATA: Cannot parse ${g} for an unknown reason`);throw y.code="MISSING_DATA",y}const u=b(l).split(","),_=u.length;let h;for(let y=0;y<_;y++)try{const x=u[y].trim(),T=A(i,x);h=S.decrypt(T.ciphertext,T.key);break}catch(x){if(y+1>=_)throw x}return S.parse(h)}function f(l){console.log(`[dotenv@${a}][INFO] ${l}`)}function m(l){console.log(`[dotenv@${a}][WARN] ${l}`)}function v(l){console.log(`[dotenv@${a}][DEBUG] ${l}`)}function b(l){return l&&l.DOTENV_KEY&&l.DOTENV_KEY.length>0?l.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function A(l,g){let i;try{i=new URL(g)}catch(x){if(x.code==="ERR_INVALID_URL"){const T=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw T.code="INVALID_DOTENV_KEY",T}throw x}const u=i.password;if(!u){const x=new Error("INVALID_DOTENV_KEY: Missing key part");throw x.code="INVALID_DOTENV_KEY",x}const _=i.searchParams.get("environment");if(!_){const x=new Error("INVALID_DOTENV_KEY: Missing environment part");throw x.code="INVALID_DOTENV_KEY",x}const h=`DOTENV_VAULT_${_.toUpperCase()}`,y=l.parsed[h];if(!y){const x=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${h} in your .env.vault file.`);throw x.code="NOT_FOUND_DOTENV_ENVIRONMENT",x}return{ciphertext:y,key:u}}function k(l){let g=null;if(l&&l.path&&l.path.length>0)if(Array.isArray(l.path))for(const i of l.path)e.existsSync(i)&&(g=i.endsWith(".vault")?i:`${i}.vault`);else g=l.path.endsWith(".vault")?l.path:`${l.path}.vault`;else g=t.resolve(process.cwd(),".env.vault");return e.existsSync(g)?g:null}function I(l){return l[0]==="~"?t.join(r.homedir(),l.slice(1)):l}function P(l){f("Loading env from encrypted .env.vault");const g=S._parseVault(l);let i=process.env;return l&&l.processEnv!=null&&(i=l.processEnv),S.populate(i,g,l),{parsed:g}}function oe(l){const g=t.resolve(process.cwd(),".env");let i="utf8";const u=!!(l&&l.debug);l&&l.encoding?i=l.encoding:u&&v("No encoding is specified. UTF-8 is used by default");let _=[g];if(l&&l.path)if(!Array.isArray(l.path))_=[I(l.path)];else{_=[];for(const T of l.path)_.push(I(T))}let h;const y={};for(const T of _)try{const D=S.parse(e.readFileSync(T,{encoding:i}));S.populate(y,D,l)}catch(D){u&&v(`Failed to load ${T} ${D.message}`),h=D}let x=process.env;return l&&l.processEnv!=null&&(x=l.processEnv),S.populate(x,y,l),h?{parsed:y,error:h}:{parsed:y}}function se(l){if(b(l).length===0)return S.configDotenv(l);const g=k(l);return g?S._configVault(l):(m(`You set DOTENV_KEY but you are missing a .env.vault file at ${g}. Did you forget to build it?`),S.configDotenv(l))}function ae(l,g){const i=Buffer.from(g.slice(-64),"hex");let u=Buffer.from(l,"base64");const _=u.subarray(0,12),h=u.subarray(-16);u=u.subarray(12,-16);try{const y=n.createDecipheriv("aes-256-gcm",i,_);return y.setAuthTag(h),`${y.update(u)}${y.final()}`}catch(y){const x=y instanceof RangeError,T=y.message==="Invalid key length",D=y.message==="Unsupported state or unable to authenticate data";if(x||T){const j=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw j.code="INVALID_DOTENV_KEY",j}else if(D){const j=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw j.code="DECRYPTION_FAILED",j}else throw y}}function ie(l,g,i={}){const u=!!(i&&i.debug),_=!!(i&&i.override);if(typeof g!="object"){const h=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw h.code="OBJECT_REQUIRED",h}for(const h of Object.keys(g))Object.prototype.hasOwnProperty.call(l,h)?(_===!0&&(l[h]=g[h]),u&&v(_===!0?`"${h}" is already defined and WAS overwritten`:`"${h}" is already defined and was NOT overwritten`)):l[h]=g[h]}const S={configDotenv:oe,_configVault:P,_parseVault:d,config:se,decrypt:ae,parse:c,populate:ie};return F.exports.configDotenv=S.configDotenv,F.exports._configVault=S._configVault,F.exports._parseVault=S._parseVault,F.exports.config=S.config,F.exports.decrypt=S.decrypt,F.exports.parse=S.parse,F.exports.populate=S.populate,F.exports=S,F.exports}var de,Ue;function zn(){if(Ue)return de;Ue=1;const e={};return process.env.DOTENV_CONFIG_ENCODING!=null&&(e.encoding=process.env.DOTENV_CONFIG_ENCODING),process.env.DOTENV_CONFIG_PATH!=null&&(e.path=process.env.DOTENV_CONFIG_PATH),process.env.DOTENV_CONFIG_DEBUG!=null&&(e.debug=process.env.DOTENV_CONFIG_DEBUG),process.env.DOTENV_CONFIG_OVERRIDE!=null&&(e.override=process.env.DOTENV_CONFIG_OVERRIDE),process.env.DOTENV_CONFIG_DOTENV_KEY!=null&&(e.DOTENV_KEY=process.env.DOTENV_CONFIG_DOTENV_KEY),de=e,de}var fe,Ke;function Un(){if(Ke)return fe;Ke=1;const e=/^dotenv_config_(encoding|path|debug|override|DOTENV_KEY)=(.+)$/;return fe=function(r){return r.reduce(function(n,s){const a=s.match(e);return a&&(n[a[1]]=a[2]),n},{})},fe}var Ge;function Kn(){return Ge||(Ge=1,function(){Bn().config(Object.assign({},zn(),Un()(process.argv)))}()),Be}Kn();if(!process.env.DATABASE_URL)throw new Error("Missing DATABASE_URL is required");const dt=sr(process.env.DATABASE_URL),Gn=E.union([E.string(),E.number(),E.boolean(),E.null()]),be=E.lazy(()=>E.union([Gn,E.array(be),E.record(be)]));function Wn(e,t){const r=pr(e),n=Object.entries(r);let s=Object.fromEntries(n.map(([a,o])=>[a,ft(o)]));t&&(s=Object.assign(s,Object.fromEntries(Object.entries(t).map(([a,o])=>[a,typeof o=="function"?o(s):o]))));for(const[a,o]of n)o.notNull?o.hasDefault&&(s[a]=s[a].optional()):s[a]=s[a].nullable().optional();return E.object(s)}function ft(e){let t;if(function(r){return"enumValues"in r&&Array.isArray(r.enumValues)&&r.enumValues.length>0}(e)&&(t=e.enumValues.length?E.enum(e.enumValues):E.string()),!t){if(M(e,ur))t=E.string().uuid();else if(e.dataType==="custom")t=E.any();else if(e.dataType==="json")t=be;else if(e.dataType==="array")t=E.array(ft(e.baseColumn));else if(e.dataType==="number")t=E.number();else if(e.dataType==="bigint")t=E.bigint();else if(e.dataType==="boolean")t=E.boolean();else if(e.dataType==="date")t=E.date();else if(e.dataType==="string"){let r=E.string();(M(e,lr)||M(e,dr)||M(e,mr)||M(e,gr)||M(e,yr)||M(e,_r))&&typeof e.length=="number"&&(r=r.max(e.length)),t=r}}return t||(t=E.any()),t}const pt=Y("project",{id:fr("id").primaryKey().generatedAlwaysAsIdentity(),name:w("name").notNull(),userId:w("userId").notNull().references(()=>U.id),description:w("description"),createdAt:O("createdAt").notNull().defaultNow(),updatedAt:O("updatedAt").notNull().defaultNow()}),Jn=Wn(pt,{name:E.string().max(256),userId:E.string(),description:E.string().max(1024).optional()}).omit({id:!0,createdAt:!0,updatedAt:!0}),U=Y("user",{id:w("id").primaryKey(),name:w("name").notNull(),email:w("email").notNull().unique(),emailVerified:Ce("emailVerified").notNull(),image:w("image"),createdAt:O("createdAt").notNull(),updatedAt:O("updatedAt").notNull(),role:w("role"),banned:Ce("banned"),banReason:w("banReason"),banExpires:O("banExpires")}),Yn=Y("session",{id:w("id").primaryKey(),expiresAt:O("expiresAt").notNull(),token:w("token").notNull().unique(),createdAt:O("createdAt").notNull(),updatedAt:O("updatedAt").notNull(),ipAddress:w("ipAddress"),userAgent:w("userAgent"),userId:w("userId").notNull().references(()=>U.id),impersonatedBy:w("impersonatedBy")}),Qn=Y("account",{id:w("id").primaryKey(),accountId:w("accountId").notNull(),providerId:w("providerId").notNull(),userId:w("userId").notNull().references(()=>U.id),accessToken:w("accessToken"),refreshToken:w("refreshToken"),idToken:w("idToken"),accessTokenExpiresAt:O("accessTokenExpiresAt"),refreshTokenExpiresAt:O("refreshTokenExpiresAt"),scope:w("scope"),password:w("password"),createdAt:O("createdAt").notNull(),updatedAt:O("updatedAt").notNull()}),Xn=Y("verification",{id:w("id").primaryKey(),identifier:w("identifier").notNull(),value:w("value").notNull(),expiresAt:O("expiresAt").notNull(),createdAt:O("createdAt"),updatedAt:O("updatedAt")}),Zn=Object.freeze(Object.defineProperty({__proto__:null,CreateProjectSchema:Jn,account:Qn,project:pt,session:Yn,user:U,verification:Xn},Symbol.toStringTag,{value:"Module"})),eo=ar({database:ir(dt,{provider:"pg",schema:Zn}),plugins:[cr()],emailAndPassword:{enabled:!0,sendResetPassword:async({user:e,url:t,token:r},n)=>{console.log(`[FAKE] Reseting password to ${e.email} with token ${r} go to this url ${t}`)}},emailVerification:{sendOnSignUp:!0,requireEmailVerification:!0,sendVerificationEmail:async({user:e,url:t,token:r},n)=>{console.log(`[FAKE] Sending email to ${e.email} with token ${r} go to this url ${t}`)}}}),ht=ne({method:"GET"}).handler(lt(to,"c_78j5o","$$function0"),async()=>{const e=Br();return await eo.api.getSession({headers:e.headers})}),Te=ne({method:"GET"}).handler(lt(ro,"c_78j5o","$$function1"),async()=>(await dt.select().from(U).where(hr(U.role,"admin")).limit(1)).length===0);function to(e){return ht.__executeServer(e)}function ro(e){return Te.__executeServer(e)}const Ne=Bt()({head:()=>({meta:[{charSet:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},...yn({title:"Smartflow - The modern way to write and deploy smart contracts",description:"Smartflow is a low code drag and drop platform to write and deploy smart contracts"})],links:[{rel:"stylesheet",href:gn},{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"},{rel:"icon",type:"image/png",sizes:"96x96",href:"/favicon-96x96.png"},{rel:"manifest",href:"/site.webmanifest",color:"#fffff"},{rel:"icon",href:"/favicon.ico"}]}),beforeLoad:async()=>({user:await ht()}),errorComponent:e=>p(mt,{children:p(st,{...e})}),notFoundComponent:()=>p(at,{}),component:no});function no(){return p(mt,{children:C(vn,{children:[p(zt,{}),p(bn,{})]})})}function mt({children:e}){return C("html",{lang:"en",children:[p("head",{children:p(pn,{})}),C("body",{children:[e,p(Ut,{}),p(Xt,{position:"bottom-right"}),p(mn,{})]})]})}const oo=()=>import("./assets/first-launch-DUIftxPJ.js"),gt=Je("/first-launch")({component:Ye(oo,"component",()=>gt.ssr),beforeLoad:async()=>{if(!await Te())throw Qe({to:"/"})}}),so=()=>import("./assets/index-BfrTTpz9.js"),yt=Je("/")({component:Ye(so,"component",()=>yt.ssr),beforeLoad:async()=>{if(await Te())throw Qe({to:"/first-launch"})}}),ao=gt.update({id:"/first-launch",path:"/first-launch",getParentRoute:()=>Ne}),io=yt.update({id:"/",path:"/",getParentRoute:()=>Ne}),co={IndexRoute:io,FirstLaunchRoute:ao},uo=Ne._addFileChildren(co)._addFileTypes();function lo(){const e=new Yt,t=Kt({routeTree:uo,context:{queryClient:e},defaultPreload:"intent",defaultErrorComponent:st,defaultNotFoundComponent:()=>p(at,{})});return Qt(t,e)}const Po=Kr({createRouter:lo,getRouterManifest:br})(on);export{Po as default};
